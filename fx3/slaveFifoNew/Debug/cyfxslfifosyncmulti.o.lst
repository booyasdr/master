   1              		.cpu arm926ej-s
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 0
  11              		.eabi_attribute 18, 4
  12              		.file	"cyfxslfifosyncmulti.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.global	CyFxGpifTransition
  17              		.data
  18              		.align	2
  21              	CyFxGpifTransition:
  22 0000 0000     		.short	0
  23 0002 AAAA     		.short	-21846
  24 0004 5555     		.short	21845
  25 0006 CCCC     		.short	-13108
  26              		.global	CyFxGpifWavedata
  27              		.align	2
  30              	CyFxGpifWavedata:
  31 0008 019E731E 		.word	510893569
  32 000c 00010000 		.word	256
  33 0010 A0000080 		.word	-2147483488
  34 0014 00000000 		.word	0
  35 0018 00000000 		.word	0
  36 001c 00000000 		.word	0
  37 0020 029E722E 		.word	779263490
  38 0024 06000120 		.word	536936454
  39 0028 60000080 		.word	-2147483552
  40 002c 00000000 		.word	0
  41 0030 00000000 		.word	0
  42 0034 00000000 		.word	0
  43 0038 019E731E 		.word	510893569
  44 003c 00010000 		.word	256
  45 0040 A0000080 		.word	-2147483488
  46 0044 0393731E 		.word	510890755
  47 0048 00010024 		.word	603980032
  48 004c 90000080 		.word	-2147483504
  49              		.global	CyFxGpifWavedataPosition
  50              		.align	2
  53              	CyFxGpifWavedataPosition:
  54 0050 00       		.byte	0
  55 0051 01       		.byte	1
  56 0052 02       		.byte	2
  57 0053 01       		.byte	1
  58              		.global	CyFxGpifRegValue
  59              		.align	2
  62              	CyFxGpifRegValue:
  63 0054 08830080 		.word	-2147450104
  64 0058 67000000 		.word	103
  65 005c 00000000 		.word	0
  66 0060 46000000 		.word	70
  67 0064 00000000 		.word	0
  68 0068 00000000 		.word	0
  69 006c 20000000 		.word	32
  70 0070 82000000 		.word	130
  71 0074 82070000 		.word	1922
  72 0078 00150100 		.word	70912
  73 007c 8FFE0000 		.word	65167
  74 0080 70010000 		.word	368
  75 0084 00000000 		.word	0
  76 0088 00000000 		.word	0
  77 008c 00000000 		.word	0
  78 0090 00000000 		.word	0
  79 0094 00000000 		.word	0
  80 0098 10000000 		.word	16
  81 009c 14000000 		.word	20
  82 00a0 11000000 		.word	17
  83 00a4 00000000 		.word	0
  84 00a8 15000000 		.word	21
  85 00ac 00000000 		.word	0
  86 00b0 00000000 		.word	0
  87 00b4 00000000 		.word	0
  88 00b8 00000000 		.word	0
  89 00bc 00000000 		.word	0
  90 00c0 00000000 		.word	0
  91 00c4 00000000 		.word	0
  92 00c8 06000000 		.word	6
  93 00cc 00000000 		.word	0
  94 00d0 FFFF0000 		.word	65535
  95 00d4 09010000 		.word	265
  96 00d8 00000000 		.word	0
  97 00dc FF1F0000 		.word	8191
  98 00e0 00000000 		.word	0
  99 00e4 FFFF0000 		.word	65535
 100 00e8 0B010000 		.word	267
 101 00ec 00000000 		.word	0
 102 00f0 FF1F0000 		.word	8191
 103 00f4 00000000 		.word	0
 104 00f8 00000000 		.word	0
 105 00fc 00000000 		.word	0
 106 0100 00000000 		.word	0
 107 0104 00000000 		.word	0
 108 0108 00000000 		.word	0
 109 010c 00000000 		.word	0
 110 0110 00000000 		.word	0
 111 0114 00000000 		.word	0
 112 0118 00000000 		.word	0
 113 011c 00000000 		.word	0
 114 0120 00000000 		.word	0
 115 0124 00000000 		.word	0
 116 0128 00000000 		.word	0
 117 012c 00000000 		.word	0
 118 0130 00000000 		.word	0
 119 0134 00000000 		.word	0
 120 0138 00000000 		.word	0
 121 013c 00000000 		.word	0
 122 0140 00000000 		.word	0
 123 0144 00000000 		.word	0
 124 0148 00000000 		.word	0
 125 014c 00000000 		.word	0
 126 0150 00040180 		.word	-2147417088
 127 0154 01040180 		.word	-2147417087
 128 0158 02040180 		.word	-2147417086
 129 015c 03040180 		.word	-2147417085
 130 0160 00000000 		.word	0
 131 0164 00000000 		.word	0
 132 0168 00000000 		.word	0
 133 016c 00000000 		.word	0
 134 0170 00000000 		.word	0
 135 0174 00000000 		.word	0
 136 0178 00000000 		.word	0
 137 017c 00000000 		.word	0
 138 0180 C1FFFFFF 		.word	-63
 139              		.global	CyFxGpifConfig
 140              		.section	.rodata
 141              		.align	2
 144              	CyFxGpifConfig:
 145 0000 0400     		.short	4
 146 0002 0000     		.space	2
 147 0004 00000000 		.word	CyFxGpifWavedata
 148 0008 00000000 		.word	CyFxGpifWavedataPosition
 149 000c 0400     		.short	4
 150 000e 0000     		.space	2
 151 0010 00000000 		.word	CyFxGpifTransition
 152 0014 4C00     		.short	76
 153 0016 0000     		.space	2
 154 0018 00000000 		.word	CyFxGpifRegValue
 155              		.comm	slFifoAppThread,168,4
 156              		.comm	glMultiChHandleSlFifoPtoU,232,4
 157              		.global	glDMARxCount
 158              		.bss
 159              		.align	2
 162              	glDMARxCount:
 163 0000 00000000 		.space	4
 164              		.global	glDMATxCount
 165              		.align	2
 168              	glDMATxCount:
 169 0004 00000000 		.space	4
 170              		.global	glIsApplnActive
 171              		.align	2
 174              	glIsApplnActive:
 175 0008 00000000 		.space	4
 176              		.global	burstLength
 179              	burstLength:
 180 000c 00       		.space	1
 181              		.text
 182              		.align	2
 183              		.global	CyFxSlFifoPtoUDmaCallback
 185              	CyFxSlFifoPtoUDmaCallback:
 186              	.LFB0:
 187              		.file 1 "../cyfxslfifosyncmulti.c"
   1:../cyfxslfifosyncmulti.c **** /* This file illustrates the Slave FIFO Synchronous mode example */
   2:../cyfxslfifosyncmulti.c **** 
   3:../cyfxslfifosyncmulti.c **** /*
   4:../cyfxslfifosyncmulti.c ****    This example comprises of two USB bulk endpoints. A bulk OUT endpoint acts as the
   5:../cyfxslfifosyncmulti.c ****    producer of data from the host. A bulk IN endpoint acts as the consumer of data to
   6:../cyfxslfifosyncmulti.c ****    the host. Appropriate vendor class USB enumeration descriptors with these two bulk
   7:../cyfxslfifosyncmulti.c ****    endpoints are implemented.
   8:../cyfxslfifosyncmulti.c **** 
   9:../cyfxslfifosyncmulti.c ****    The GPIF configuration data for the Synchronous Slave FIFO operation is loaded onto
  10:../cyfxslfifosyncmulti.c ****    the appropriate GPIF registers. The p-port data transfers are done via the producer
  11:../cyfxslfifosyncmulti.c ****    p-port socket and the consumer p-port socket.
  12:../cyfxslfifosyncmulti.c **** 
  13:../cyfxslfifosyncmulti.c ****    This example implements two DMA Channels either in MANUAL mode or AUTO mode (depending
  14:../cyfxslfifosyncmulti.c ****    on #define MANUAL in cyfxslfifosync.h) one for P to U data transfer and one for U to P
  15:../cyfxslfifosyncmulti.c ****    data transfer.
  16:../cyfxslfifosyncmulti.c **** 
  17:../cyfxslfifosyncmulti.c ****    The U to P DMA channel connects the USB producer (OUT) endpoint to the consumer p-port
  18:../cyfxslfifosyncmulti.c ****    socket. And the P to U DMA channel connects the producer p-port socket to the USB 
  19:../cyfxslfifosyncmulti.c ****    consumer (IN) endpoint.
  20:../cyfxslfifosyncmulti.c **** 
  21:../cyfxslfifosyncmulti.c ****    In case of MANUAL DMA channel, Upon every reception of data in the DMA buffer from the
  22:../cyfxslfifosyncmulti.c ****    host or from the p-port, the CPU is signaled using DMA callbacks. There are two DMA callback
  23:../cyfxslfifosyncmulti.c ****    functions implemented each for U to P and P to U data paths. The CPU then commits the DMA buffer
  24:../cyfxslfifosyncmulti.c ****    that the data is transferred to the consumer.
  25:../cyfxslfifosyncmulti.c **** 
  26:../cyfxslfifosyncmulti.c ****    In case of AUTO DMA channel, the data will be transferred between U and P ports automatically
  27:../cyfxslfifosyncmulti.c ****    without any intervention from the CPU.
  28:../cyfxslfifosyncmulti.c **** 
  29:../cyfxslfifosyncmulti.c ****    The DMA buffer size is configured differently based on the usage. #define LOOPBACK_SHRT_ZLP in c
  30:../cyfxslfifosyncmulti.c ****    configures the DMA buffers for doing data loopback. Also, DMA buffer for each channel is defined
  31:../cyfxslfifosyncmulti.c ****    USB speed. 64 bytes for full speed, 512 bytes for high speed and 1024 bytes for super speed.
  32:../cyfxslfifosyncmulti.c ****    #define STREAM_IN_OUT in cyfxslfifosync.h configures the DMA buffers for higher bandwidth data t
  33:../cyfxslfifosyncmulti.c ****    16*64 bytes for full speed, 16*512 bytes for high speed and 16*1024 bytes for super speed.
  34:../cyfxslfifosyncmulti.c **** 
  35:../cyfxslfifosyncmulti.c ****    CY_FX_SLFIFO_DMA_BUF_COUNT_P_2_U in cyfxslfifosync.h defines the number of DMA buffers allocated
  36:../cyfxslfifosyncmulti.c ****    CY_FX_SLFIFO_DMA_BUF_COUNT_U_2_P in cyfxslfifosync.h defines the number of DMA buffers allocated
  37:../cyfxslfifosyncmulti.c **** 
  38:../cyfxslfifosyncmulti.c ****    The constant CY_FX_SLFIFO_GPIF_16_32BIT_CONF_SELECT in the header file is used to
  39:../cyfxslfifosyncmulti.c ****    select 16bit or 32bit GPIF data bus configuration.
  40:../cyfxslfifosyncmulti.c ****  */
  41:../cyfxslfifosyncmulti.c **** 
  42:../cyfxslfifosyncmulti.c **** #include "cyu3system.h"
  43:../cyfxslfifosyncmulti.c **** #include "cyu3os.h"
  44:../cyfxslfifosyncmulti.c **** #include "cyu3dma.h"
  45:../cyfxslfifosyncmulti.c **** #include "cyu3error.h"
  46:../cyfxslfifosyncmulti.c **** #include "cyu3uart.h"
  47:../cyfxslfifosyncmulti.c **** #include "cyfxslfifosyncmulti.h"
  48:../cyfxslfifosyncmulti.c **** #include "cyu3gpif.h"
  49:../cyfxslfifosyncmulti.c **** #include "cyu3pib.h"
  50:../cyfxslfifosyncmulti.c **** #include "pib_regs.h"
  51:../cyfxslfifosyncmulti.c **** #include "auxutil.h"
  52:../cyfxslfifosyncmulti.c **** #include <cyu3gpio.h>
  53:../cyfxslfifosyncmulti.c **** #include <stdio.h>
  54:../cyfxslfifosyncmulti.c **** 
  55:../cyfxslfifosyncmulti.c **** //	#include "cyfxgpif2configmulti.h"
  56:../cyfxslfifosyncmulti.c **** #include "gpifmin.h"
  57:../cyfxslfifosyncmulti.c **** 
  58:../cyfxslfifosyncmulti.c **** typedef unsigned char uint8_t;
  59:../cyfxslfifosyncmulti.c **** typedef unsigned short uint16_t;
  60:../cyfxslfifosyncmulti.c **** typedef unsigned long uint32_t;
  61:../cyfxslfifosyncmulti.c **** 
  62:../cyfxslfifosyncmulti.c **** CyU3PThread slFifoAppThread;	        /* Slave FIFO application thread structure */
  63:../cyfxslfifosyncmulti.c **** CyU3PDmaMultiChannel glMultiChHandleSlFifoPtoU;   /* DMA Channel handle for P2U transfer. */
  64:../cyfxslfifosyncmulti.c **** 
  65:../cyfxslfifosyncmulti.c **** #define ResetDevice() do { *(volatile uint32_t *)0xe0050000 &= ~(1<<31); } while(1)
  66:../cyfxslfifosyncmulti.c **** 
  67:../cyfxslfifosyncmulti.c **** uint32_t glDMARxCount = 0;               /* Counter to track the number of buffers received from US
  68:../cyfxslfifosyncmulti.c **** uint32_t glDMATxCount = 0;               /* Counter to track the number of buffers sent to USB. */
  69:../cyfxslfifosyncmulti.c **** CyBool_t glIsApplnActive = CyFalse;      /* Whether the loopback application is active or not. */
  70:../cyfxslfifosyncmulti.c **** uint8_t burstLength =0;
  71:../cyfxslfifosyncmulti.c **** 
  72:../cyfxslfifosyncmulti.c **** /* DMA callback function to handle the produce events for P to U transfers. for MANUAL only */
  73:../cyfxslfifosyncmulti.c **** void
  74:../cyfxslfifosyncmulti.c **** CyFxSlFifoPtoUDmaCallback (
  75:../cyfxslfifosyncmulti.c ****         CyU3PDmaMultiChannel   *chHandle,
  76:../cyfxslfifosyncmulti.c ****         CyU3PDmaCbType_t  type,
  77:../cyfxslfifosyncmulti.c ****         CyU3PDmaCBInput_t *input ) {
 188              		.loc 1 77 0
 189              		.cfi_startproc
 190              		@ args = 0, pretend = 0, frame = 32
 191              		@ frame_needed = 1, uses_anonymous_args = 0
 192 0000 00482DE9 		stmfd	sp!, {fp, lr}
 193              	.LCFI0:
 194              		.cfi_def_cfa_offset 8
 195              		.cfi_offset 11, -8
 196              		.cfi_offset 14, -4
 197 0004 04B08DE2 		add	fp, sp, #4
 198              	.LCFI1:
 199              		.cfi_def_cfa 11, 4
 200 0008 20D04DE2 		sub	sp, sp, #32
 201 000c 18000BE5 		str	r0, [fp, #-24]
 202 0010 0130A0E1 		mov	r3, r1
 203 0014 20200BE5 		str	r2, [fp, #-32]
 204 0018 BA314BE1 		strh	r3, [fp, #-26]	@ movhi
  78:../cyfxslfifosyncmulti.c **** 
  79:../cyfxslfifosyncmulti.c ****     CyU3PDmaBuffer_t    buffer_p;
  80:../cyfxslfifosyncmulti.c ****     CyU3PReturnStatus_t apiRetStatus;
  81:../cyfxslfifosyncmulti.c **** 
  82:../cyfxslfifosyncmulti.c ****     if (type == CY_U3P_DMA_CB_PROD_EVENT)
 205              		.loc 1 82 0
 206 001c BA315BE1 		ldrh	r3, [fp, #-26]
 207 0020 080053E3 		cmp	r3, #8
 208 0024 1900001A 		bne	.L2
  83:../cyfxslfifosyncmulti.c ****     {
  84:../cyfxslfifosyncmulti.c ****         /* This is a produce event notification to the CPU. This notification is 
  85:../cyfxslfifosyncmulti.c ****          * received upon reception of every buffer. The buffer will not be sent
  86:../cyfxslfifosyncmulti.c ****          * out unless it is explicitly committed. The call shall fail if there
  87:../cyfxslfifosyncmulti.c ****          * is a bus reset / usb disconnect or if there is any application error. */
  88:../cyfxslfifosyncmulti.c **** 
  89:../cyfxslfifosyncmulti.c **** 		apiRetStatus = CyU3PDmaMultiChannelGetBuffer (&glMultiChHandleSlFifoPtoU, &buffer_p, CYU3P_NO_WAI
 209              		.loc 1 89 0
 210 0028 14304BE2 		sub	r3, fp, #20
 211 002c 68009FE5 		ldr	r0, .L5
 212 0030 0310A0E1 		mov	r1, r3
 213 0034 0020A0E3 		mov	r2, #0
 214 0038 FEFFFFEB 		bl	CyU3PDmaMultiChannelGetBuffer
 215 003c 08000BE5 		str	r0, [fp, #-8]
  90:../cyfxslfifosyncmulti.c **** 		if (apiRetStatus == CY_U3P_SUCCESS)
 216              		.loc 1 90 0
 217 0040 08301BE5 		ldr	r3, [fp, #-8]
 218 0044 000053E3 		cmp	r3, #0
 219 0048 0B00001A 		bne	.L3
  91:../cyfxslfifosyncmulti.c **** 		{
  92:../cyfxslfifosyncmulti.c **** 			apiRetStatus = CyU3PDmaMultiChannelCommitBuffer (&glMultiChHandleSlFifoPtoU,
 220              		.loc 1 92 0
 221 004c B0315BE1 		ldrh	r3, [fp, #-16]
 222 0050 44009FE5 		ldr	r0, .L5
 223 0054 0310A0E1 		mov	r1, r3
 224 0058 0020A0E3 		mov	r2, #0
 225 005c FEFFFFEB 		bl	CyU3PDmaMultiChannelCommitBuffer
 226 0060 08000BE5 		str	r0, [fp, #-8]
  93:../cyfxslfifosyncmulti.c **** 				buffer_p.count, 0);
  94:../cyfxslfifosyncmulti.c **** 			apiRetStatus = CyU3PDmaMultiChannelGetBuffer (&glMultiChHandleSlFifoPtoU, &buffer_p, CYU3P_NO_WA
 227              		.loc 1 94 0
 228 0064 14304BE2 		sub	r3, fp, #20
 229 0068 2C009FE5 		ldr	r0, .L5
 230 006c 0310A0E1 		mov	r1, r3
 231 0070 0020A0E3 		mov	r2, #0
 232 0074 FEFFFFEB 		bl	CyU3PDmaMultiChannelGetBuffer
 233 0078 08000BE5 		str	r0, [fp, #-8]
 234              	.L3:
  95:../cyfxslfifosyncmulti.c **** 		}
  96:../cyfxslfifosyncmulti.c **** 
  97:../cyfxslfifosyncmulti.c ****     /* Increment the counter. */
  98:../cyfxslfifosyncmulti.c ****     glDMATxCount++;
 235              		.loc 1 98 0
 236 007c 1C309FE5 		ldr	r3, .L5+4
 237 0080 003093E5 		ldr	r3, [r3]
 238 0084 012083E2 		add	r2, r3, #1
 239 0088 10309FE5 		ldr	r3, .L5+4
 240 008c 002083E5 		str	r2, [r3]
 241              	.L2:
  99:../cyfxslfifosyncmulti.c **** }
 100:../cyfxslfifosyncmulti.c ****     return;
 242              		.loc 1 100 0
 243 0090 0000A0E1 		mov	r0, r0	@ nop
 101:../cyfxslfifosyncmulti.c **** }
 244              		.loc 1 101 0
 245 0094 04D04BE2 		sub	sp, fp, #4
 246              		@ sp needed
 247 0098 0088BDE8 		ldmfd	sp!, {fp, pc}
 248              	.L6:
 249              		.align	2
 250              	.L5:
 251 009c 00000000 		.word	glMultiChHandleSlFifoPtoU
 252 00a0 00000000 		.word	glDMATxCount
 253              		.cfi_endproc
 254              	.LFE0:
 256              		.section	.rodata
 257              		.align	2
 258              	.LC0:
 259 001c 4170706C 		.ascii	"Application Start\012\000"
 259      69636174 
 259      696F6E20 
 259      53746172 
 259      740A00
 260 002f 00       		.align	2
 261              	.LC1:
 262 0030 4572726F 		.ascii	"Error! Invalid USB speed.\012\000"
 262      72212049 
 262      6E76616C 
 262      69642055 
 262      53422073 
 263 004b 00       		.align	2
 264              	.LC2:
 265 004c 43795533 		.ascii	"CyU3PSetEpConfig failed, Error code = %d\012\000"
 265      50536574 
 265      4570436F 
 265      6E666967 
 265      20666169 
 266 0076 0000     		.align	2
 267              	.LC3:
 268 0078 43795533 		.ascii	"CyU3PDmaMultiChannelCreate failed, Error code = %d\012"
 268      50446D61 
 268      4D756C74 
 268      69436861 
 268      6E6E656C 
 269 00ab 00       		.ascii	"\000"
 270              		.align	2
 271              	.LC4:
 272 00ac 52455345 		.ascii	"RESET = %d ALPHA_RESET = %d\012\000"
 272      54203D20 
 272      25642041 
 272      4C504841 
 272      5F524553 
 273 00c9 000000   		.align	2
 274              	.LC5:
 275 00cc 43795533 		.ascii	"CyU3PGpifSMStart failed, Error Code = %d\012\000"
 275      50477069 
 275      66534D53 
 275      74617274 
 275      20666169 
 276 00f6 0000     		.align	2
 277              	.LC6:
 278 00f8 43795533 		.ascii	"CyU3PDmaMultiChannelSetXfer Failed, Error code = %d"
 278      50446D61 
 278      4D756C74 
 278      69436861 
 278      6E6E656C 
 279 012b 0A00     		.ascii	"\012\000"
 280              		.text
 281              		.align	2
 282              		.global	CyFxSlFifoApplnStart
 284              	CyFxSlFifoApplnStart:
 285              	.LFB1:
 102:../cyfxslfifosyncmulti.c **** 
 103:../cyfxslfifosyncmulti.c **** /* This function starts the slave FIFO loop application. This is called
 104:../cyfxslfifosyncmulti.c ****  * when a SET_CONF event is received from the USB host. The endpoints
 105:../cyfxslfifosyncmulti.c ****  * are configured and the DMA pipe is setup in this function. */
 106:../cyfxslfifosyncmulti.c **** void CyFxSlFifoApplnStart( void ) {
 286              		.loc 1 106 0
 287              		.cfi_startproc
 288              		@ args = 0, pretend = 0, frame = 64
 289              		@ frame_needed = 1, uses_anonymous_args = 0
 290 00a4 00482DE9 		stmfd	sp!, {fp, lr}
 291              	.LCFI2:
 292              		.cfi_def_cfa_offset 8
 293              		.cfi_offset 11, -8
 294              		.cfi_offset 14, -4
 295 00a8 04B08DE2 		add	fp, sp, #4
 296              	.LCFI3:
 297              		.cfi_def_cfa 11, 4
 298 00ac 40D04DE2 		sub	sp, sp, #64
 107:../cyfxslfifosyncmulti.c ****     uint16_t size = 0;
 299              		.loc 1 107 0
 300 00b0 0030A0E3 		mov	r3, #0
 301 00b4 B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 108:../cyfxslfifosyncmulti.c ****     CyU3PEpConfig_t epCfg;
 109:../cyfxslfifosyncmulti.c **** //    CyU3PDmaChannelConfig_t dmaCfg;
 110:../cyfxslfifosyncmulti.c ****     CyU3PDmaMultiChannelConfig_t dmaMultiConfig;
 111:../cyfxslfifosyncmulti.c ****     CyU3PReturnStatus_t apiRetStatus = CY_U3P_SUCCESS;
 302              		.loc 1 111 0
 303 00b8 0030A0E3 		mov	r3, #0
 304 00bc 0C300BE5 		str	r3, [fp, #-12]
 112:../cyfxslfifosyncmulti.c ****     CyU3PUSBSpeed_t usbSpeed = CyU3PUsbGetSpeed();
 305              		.loc 1 112 0
 306 00c0 FEFFFFEB 		bl	CyU3PUsbGetSpeed
 307 00c4 0030A0E1 		mov	r3, r0
 308 00c8 0D304BE5 		strb	r3, [fp, #-13]
 113:../cyfxslfifosyncmulti.c ****     CyU3PDebugPrint (4, "Application Start\n");
 309              		.loc 1 113 0
 310 00cc 0400A0E3 		mov	r0, #4
 311 00d0 78129FE5 		ldr	r1, .L19
 312 00d4 FEFFFFEB 		bl	CyU3PDebugPrint
 114:../cyfxslfifosyncmulti.c **** 
 115:../cyfxslfifosyncmulti.c ****      /* Based on the Bus Speed configure the endpoint packet size */
 116:../cyfxslfifosyncmulti.c ****     switch (usbSpeed) {
 313              		.loc 1 116 0
 314 00d8 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 315 00dc 020053E3 		cmp	r3, #2
 316 00e0 0600000A 		beq	.L9
 317 00e4 030053E3 		cmp	r3, #3
 318 00e8 0A00000A 		beq	.L10
 319 00ec 010053E3 		cmp	r3, #1
 320 00f0 0E00001A 		bne	.L18
 117:../cyfxslfifosyncmulti.c ****         case CY_U3P_FULL_SPEED:
 118:../cyfxslfifosyncmulti.c ****             size = 64;
 321              		.loc 1 118 0
 322 00f4 4030A0E3 		mov	r3, #64
 323 00f8 B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 119:../cyfxslfifosyncmulti.c ****             break;
 324              		.loc 1 119 0
 325 00fc 110000EA 		b	.L12
 326              	.L9:
 120:../cyfxslfifosyncmulti.c ****         case CY_U3P_HIGH_SPEED:
 121:../cyfxslfifosyncmulti.c ****             size = 512;
 327              		.loc 1 121 0
 328 0100 023CA0E3 		mov	r3, #512
 329 0104 B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 122:../cyfxslfifosyncmulti.c ****             burstLength=1;
 330              		.loc 1 122 0
 331 0108 44329FE5 		ldr	r3, .L19+4
 332 010c 0120A0E3 		mov	r2, #1
 333 0110 0020C3E5 		strb	r2, [r3]
 123:../cyfxslfifosyncmulti.c ****             break;
 334              		.loc 1 123 0
 335 0114 0B0000EA 		b	.L12
 336              	.L10:
 124:../cyfxslfifosyncmulti.c ****         case  CY_U3P_SUPER_SPEED:
 125:../cyfxslfifosyncmulti.c ****             size = 1024;
 337              		.loc 1 125 0
 338 0118 013BA0E3 		mov	r3, #1024
 339 011c B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 126:../cyfxslfifosyncmulti.c ****             burstLength=16;
 340              		.loc 1 126 0
 341 0120 2C329FE5 		ldr	r3, .L19+4
 342 0124 1020A0E3 		mov	r2, #16
 343 0128 0020C3E5 		strb	r2, [r3]
 127:../cyfxslfifosyncmulti.c ****             break;
 344              		.loc 1 127 0
 345 012c 050000EA 		b	.L12
 346              	.L18:
 128:../cyfxslfifosyncmulti.c ****         default:
 129:../cyfxslfifosyncmulti.c ****             CyU3PDebugPrint (4, "Error! Invalid USB speed.\n");
 347              		.loc 1 129 0
 348 0130 0400A0E3 		mov	r0, #4
 349 0134 1C129FE5 		ldr	r1, .L19+8
 350 0138 FEFFFFEB 		bl	CyU3PDebugPrint
 130:../cyfxslfifosyncmulti.c ****             CyFxAppErrorHandler (CY_U3P_ERROR_FAILURE);
 351              		.loc 1 130 0
 352 013c 4A00A0E3 		mov	r0, #74
 353 0140 FEFFFFEB 		bl	CyFxAppErrorHandler
 131:../cyfxslfifosyncmulti.c ****             break;
 354              		.loc 1 131 0
 355 0144 0000A0E1 		mov	r0, r0	@ nop
 356              	.L12:
 132:../cyfxslfifosyncmulti.c ****     }
 133:../cyfxslfifosyncmulti.c **** 
 134:../cyfxslfifosyncmulti.c ****     CyU3PMemSet ((uint8_t *)&epCfg, 0, sizeof (epCfg));
 357              		.loc 1 134 0
 358 0148 1C304BE2 		sub	r3, fp, #28
 359 014c 0300A0E1 		mov	r0, r3
 360 0150 0010A0E3 		mov	r1, #0
 361 0154 0C20A0E3 		mov	r2, #12
 362 0158 FEFFFFEB 		bl	CyU3PMemSet
 135:../cyfxslfifosyncmulti.c ****     epCfg.enable = CyTrue;
 363              		.loc 1 135 0
 364 015c 0130A0E3 		mov	r3, #1
 365 0160 1C300BE5 		str	r3, [fp, #-28]
 136:../cyfxslfifosyncmulti.c ****     epCfg.epType = CY_U3P_USB_EP_BULK;
 366              		.loc 1 136 0
 367 0164 0230A0E3 		mov	r3, #2
 368 0168 18304BE5 		strb	r3, [fp, #-24]
 137:../cyfxslfifosyncmulti.c **** #ifdef STREAM_IN_OUT
 138:../cyfxslfifosyncmulti.c ****     epCfg.burstLen = burstLength;
 369              		.loc 1 138 0
 370 016c E0319FE5 		ldr	r3, .L19+4
 371 0170 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 372 0174 12304BE5 		strb	r3, [fp, #-18]
 139:../cyfxslfifosyncmulti.c **** #else
 140:../cyfxslfifosyncmulti.c ****     epCfg.burstLen = 1;
 141:../cyfxslfifosyncmulti.c **** #endif
 142:../cyfxslfifosyncmulti.c ****     epCfg.streams = 0;
 373              		.loc 1 142 0
 374 0178 0030A0E3 		mov	r3, #0
 375 017c B6314BE1 		strh	r3, [fp, #-22]	@ movhi
 143:../cyfxslfifosyncmulti.c ****     epCfg.pcktSize = size;
 376              		.loc 1 143 0
 377 0180 B6305BE1 		ldrh	r3, [fp, #-6]	@ movhi
 378 0184 B4314BE1 		strh	r3, [fp, #-20]	@ movhi
 144:../cyfxslfifosyncmulti.c **** 
 145:../cyfxslfifosyncmulti.c ****     /* Producer endpoint configuration */
 146:../cyfxslfifosyncmulti.c ****     apiRetStatus = CyU3PSetEpConfig(CY_FX_EP_PRODUCER, &epCfg);
 379              		.loc 1 146 0
 380 0188 1C304BE2 		sub	r3, fp, #28
 381 018c 0100A0E3 		mov	r0, #1
 382 0190 0310A0E1 		mov	r1, r3
 383 0194 FEFFFFEB 		bl	CyU3PSetEpConfig
 384 0198 0C000BE5 		str	r0, [fp, #-12]
 147:../cyfxslfifosyncmulti.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 385              		.loc 1 147 0
 386 019c 0C301BE5 		ldr	r3, [fp, #-12]
 387 01a0 000053E3 		cmp	r3, #0
 388 01a4 0500000A 		beq	.L13
 148:../cyfxslfifosyncmulti.c ****     {
 149:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CyU3PSetEpConfig failed, Error code = %d\n", apiRetStatus);
 389              		.loc 1 149 0
 390 01a8 0400A0E3 		mov	r0, #4
 391 01ac A8119FE5 		ldr	r1, .L19+12
 392 01b0 0C201BE5 		ldr	r2, [fp, #-12]
 393 01b4 FEFFFFEB 		bl	CyU3PDebugPrint
 150:../cyfxslfifosyncmulti.c ****         CyFxAppErrorHandler (apiRetStatus);
 394              		.loc 1 150 0
 395 01b8 0C001BE5 		ldr	r0, [fp, #-12]
 396 01bc FEFFFFEB 		bl	CyFxAppErrorHandler
 397              	.L13:
 151:../cyfxslfifosyncmulti.c ****     }
 152:../cyfxslfifosyncmulti.c **** 
 153:../cyfxslfifosyncmulti.c ****     epCfg.isoPkts = 1;
 398              		.loc 1 153 0
 399 01c0 0130A0E3 		mov	r3, #1
 400 01c4 11304BE5 		strb	r3, [fp, #-17]
 154:../cyfxslfifosyncmulti.c **** 
 155:../cyfxslfifosyncmulti.c ****     /* Consumer endpoint configuration */
 156:../cyfxslfifosyncmulti.c ****     apiRetStatus = CyU3PSetEpConfig(CY_FX_EP_CONSUMER, &epCfg);
 401              		.loc 1 156 0
 402 01c8 1C304BE2 		sub	r3, fp, #28
 403 01cc 8100A0E3 		mov	r0, #129
 404 01d0 0310A0E1 		mov	r1, r3
 405 01d4 FEFFFFEB 		bl	CyU3PSetEpConfig
 406 01d8 0C000BE5 		str	r0, [fp, #-12]
 157:../cyfxslfifosyncmulti.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 407              		.loc 1 157 0
 408 01dc 0C301BE5 		ldr	r3, [fp, #-12]
 409 01e0 000053E3 		cmp	r3, #0
 410 01e4 0500000A 		beq	.L14
 158:../cyfxslfifosyncmulti.c ****     {
 159:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CyU3PSetEpConfig failed, Error code = %d\n", apiRetStatus);
 411              		.loc 1 159 0
 412 01e8 0400A0E3 		mov	r0, #4
 413 01ec 68119FE5 		ldr	r1, .L19+12
 414 01f0 0C201BE5 		ldr	r2, [fp, #-12]
 415 01f4 FEFFFFEB 		bl	CyU3PDebugPrint
 160:../cyfxslfifosyncmulti.c ****         CyFxAppErrorHandler (apiRetStatus);
 416              		.loc 1 160 0
 417 01f8 0C001BE5 		ldr	r0, [fp, #-12]
 418 01fc FEFFFFEB 		bl	CyFxAppErrorHandler
 419              	.L14:
 161:../cyfxslfifosyncmulti.c ****     }
 162:../cyfxslfifosyncmulti.c **** 
 163:../cyfxslfifosyncmulti.c **** 
 164:../cyfxslfifosyncmulti.c ****     /* UVC Video Streaming Endpoint Packet Size */
 165:../cyfxslfifosyncmulti.c ****     #define CY_FX_EP_BULK_VIDEO_PKT_SIZE    (0x400)         /* 1024 Bytes */
 166:../cyfxslfifosyncmulti.c ****     /* UVC Video Streaming Endpoint Packet Count */
 167:../cyfxslfifosyncmulti.c ****     #define CY_FX_EP_BULK_VIDEO_PKTS_COUNT  (0x10)          /* 16 packets (burst of 16) per DMA buf
 168:../cyfxslfifosyncmulti.c ****     /* DMA buffer size used for video streaming. */
 169:../cyfxslfifosyncmulti.c ****     #define CY_FX_UVC_STREAM_BUF_SIZE      (CY_FX_EP_BULK_VIDEO_PKTS_COUNT * CY_FX_EP_BULK_VIDEO_PK
 170:../cyfxslfifosyncmulti.c ****     /* Number of DMA buffers per GPIF DMA thread. */
 171:../cyfxslfifosyncmulti.c ****     #define CY_FX_UVC_STREAM_BUF_COUNT     (4)
 172:../cyfxslfifosyncmulti.c **** 
 173:../cyfxslfifosyncmulti.c ****          dmaMultiConfig.size           = CY_FX_UVC_STREAM_BUF_SIZE;
 420              		.loc 1 173 0
 421 0200 0139A0E3 		mov	r3, #16384
 422 0204 B4344BE1 		strh	r3, [fp, #-68]	@ movhi
 174:../cyfxslfifosyncmulti.c ****          dmaMultiConfig.count          = CY_FX_UVC_STREAM_BUF_COUNT;
 423              		.loc 1 174 0
 424 0208 0430A0E3 		mov	r3, #4
 425 020c B2344BE1 		strh	r3, [fp, #-66]	@ movhi
 175:../cyfxslfifosyncmulti.c ****          dmaMultiConfig.validSckCount  = 2;
 426              		.loc 1 175 0
 427 0210 0230A0E3 		mov	r3, #2
 428 0214 B0344BE1 		strh	r3, [fp, #-64]	@ movhi
 176:../cyfxslfifosyncmulti.c ****          dmaMultiConfig.prodSckId [0]  = (CyU3PDmaSocketId_t)CY_U3P_PIB_SOCKET_0;
 429              		.loc 1 176 0
 430 0218 013CA0E3 		mov	r3, #256
 431 021c BE334BE1 		strh	r3, [fp, #-62]	@ movhi
 177:../cyfxslfifosyncmulti.c ****          dmaMultiConfig.prodSckId [1]  = (CyU3PDmaSocketId_t)CY_U3P_PIB_SOCKET_1;
 432              		.loc 1 177 0
 433 0220 38319FE5 		ldr	r3, .L19+16
 434 0224 BC334BE1 		strh	r3, [fp, #-60]	@ movhi
 178:../cyfxslfifosyncmulti.c ****          dmaMultiConfig.consSckId [0]  = (CyU3PDmaSocketId_t)CY_FX_CONSUMER_USB_SOCKET;
 435              		.loc 1 178 0
 436 0228 34319FE5 		ldr	r3, .L19+20
 437 022c B6334BE1 		strh	r3, [fp, #-54]	@ movhi
 179:../cyfxslfifosyncmulti.c **** 		 dmaMultiConfig.prodAvailCount = 0;
 438              		.loc 1 179 0
 439 0230 0030A0E3 		mov	r3, #0
 440 0234 BE324BE1 		strh	r3, [fp, #-46]	@ movhi
 180:../cyfxslfifosyncmulti.c ****          //     dmaMultiConfig.prodHeader     = 12;                 /* 12 byte UVC header to be add
 181:../cyfxslfifosyncmulti.c ****          //     dmaMultiConfig.prodFooter     = 4;                  /* 4 byte footer to compensate 
 182:../cyfxslfifosyncmulti.c **** 		 dmaMultiConfig.prodHeader     = 0;                 /* 12 byte UVC header to be added. */
 441              		.loc 1 182 0
 442 0238 0030A0E3 		mov	r3, #0
 443 023c BC324BE1 		strh	r3, [fp, #-44]	@ movhi
 183:../cyfxslfifosyncmulti.c **** 		 dmaMultiConfig.prodFooter     = 0;                  /* 4 byte footer to compensate for the 12 by
 444              		.loc 1 183 0
 445 0240 0030A0E3 		mov	r3, #0
 446 0244 BA324BE1 		strh	r3, [fp, #-42]	@ movhi
 184:../cyfxslfifosyncmulti.c ****          dmaMultiConfig.consHeader     = 0;
 447              		.loc 1 184 0
 448 0248 0030A0E3 		mov	r3, #0
 449 024c B8324BE1 		strh	r3, [fp, #-40]	@ movhi
 185:../cyfxslfifosyncmulti.c ****          dmaMultiConfig.dmaMode        = CY_U3P_DMA_MODE_BYTE;
 450              		.loc 1 185 0
 451 0250 0030A0E3 		mov	r3, #0
 452 0254 26304BE5 		strb	r3, [fp, #-38]
 186:../cyfxslfifosyncmulti.c ****          //     dmaMultiConfig.notification   = CY_U3P_DMA_CB_CONS_EVENT;
 187:../cyfxslfifosyncmulti.c **** 
 188:../cyfxslfifosyncmulti.c **** #ifdef MANUAL
 189:../cyfxslfifosyncmulti.c **** 	     dmaMultiConfig.notification   = CY_U3P_DMA_CB_PROD_EVENT;
 190:../cyfxslfifosyncmulti.c ****          dmaMultiConfig.cb             = CyFxSlFifoPtoUDmaCallback;
 191:../cyfxslfifosyncmulti.c **** 
 192:../cyfxslfifosyncmulti.c ****               apiRetStatus = CyU3PDmaMultiChannelCreate (&glMultiChHandleSlFifoPtoU, CY_U3P_DMA_TYP
 193:../cyfxslfifosyncmulti.c ****                       &dmaMultiConfig);
 194:../cyfxslfifosyncmulti.c **** 
 195:../cyfxslfifosyncmulti.c ****      if (apiRetStatus != CY_U3P_SUCCESS)
 196:../cyfxslfifosyncmulti.c ****      {
 197:../cyfxslfifosyncmulti.c ****          /* Error handling */
 198:../cyfxslfifosyncmulti.c ****          CyU3PDebugPrint (4, "DMA Channel Creation Failed, Error Code = %d\n", apiRetStatus);
 199:../cyfxslfifosyncmulti.c ****          CyFxAppErrorHandler (apiRetStatus);
 200:../cyfxslfifosyncmulti.c ****      }
 201:../cyfxslfifosyncmulti.c **** 
 202:../cyfxslfifosyncmulti.c **** #else
 203:../cyfxslfifosyncmulti.c **** 
 204:../cyfxslfifosyncmulti.c ****        /* Create a DMA AUTO channel for P2U transfer. */
 205:../cyfxslfifosyncmulti.c **** //     dmaMultiConfig.size  = DMA_BUF_SIZE*size; //increase buffer size for higher performance
 206:../cyfxslfifosyncmulti.c **** //     dmaMultiConfig.count = CY_FX_SLFIFO_DMA_BUF_COUNT_P_2_U; // increase buffer count for higher
 207:../cyfxslfifosyncmulti.c ****  //    dmaMultiConfig.prodSckId = CY_FX_PRODUCER_PPORT_SOCKET;
 208:../cyfxslfifosyncmulti.c ****  //    dmaMultiConfig.consSckId = CY_FX_CONSUMER_USB_SOCKET;
 209:../cyfxslfifosyncmulti.c ****      dmaMultiConfig.notification   = CY_U3P_DMA_CB_PROD_EVENT;
 453              		.loc 1 209 0
 454 0258 0830A0E3 		mov	r3, #8
 455 025c 24300BE5 		str	r3, [fp, #-36]
 210:../cyfxslfifosyncmulti.c ****      dmaMultiConfig.cb = NULL;
 456              		.loc 1 210 0
 457 0260 0030A0E3 		mov	r3, #0
 458 0264 20300BE5 		str	r3, [fp, #-32]
 211:../cyfxslfifosyncmulti.c ****        apiRetStatus = CyU3PDmaMultiChannelCreate (&glMultiChHandleSlFifoPtoU,
 459              		.loc 1 211 0
 460 0268 44304BE2 		sub	r3, fp, #68
 461 026c F4009FE5 		ldr	r0, .L19+24
 462 0270 0510A0E3 		mov	r1, #5
 463 0274 0320A0E1 		mov	r2, r3
 464 0278 FEFFFFEB 		bl	CyU3PDmaMultiChannelCreate
 465 027c 0C000BE5 		str	r0, [fp, #-12]
 212:../cyfxslfifosyncmulti.c ****     		   CY_U3P_DMA_TYPE_AUTO_MANY_TO_ONE, &dmaMultiConfig);
 213:../cyfxslfifosyncmulti.c **** 
 214:../cyfxslfifosyncmulti.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 466              		.loc 1 214 0
 467 0280 0C301BE5 		ldr	r3, [fp, #-12]
 468 0284 000053E3 		cmp	r3, #0
 469 0288 0500000A 		beq	.L15
 215:../cyfxslfifosyncmulti.c ****     {
 216:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CyU3PDmaMultiChannelCreate failed, Error code = %d\n", apiRetStatus);
 470              		.loc 1 216 0
 471 028c 0400A0E3 		mov	r0, #4
 472 0290 D4109FE5 		ldr	r1, .L19+28
 473 0294 0C201BE5 		ldr	r2, [fp, #-12]
 474 0298 FEFFFFEB 		bl	CyU3PDebugPrint
 217:../cyfxslfifosyncmulti.c ****         CyFxAppErrorHandler(apiRetStatus);
 475              		.loc 1 217 0
 476 029c 0C001BE5 		ldr	r0, [fp, #-12]
 477 02a0 FEFFFFEB 		bl	CyFxAppErrorHandler
 478              	.L15:
 218:../cyfxslfifosyncmulti.c ****     }
 219:../cyfxslfifosyncmulti.c **** 
 220:../cyfxslfifosyncmulti.c **** #endif
 221:../cyfxslfifosyncmulti.c **** 
 222:../cyfxslfifosyncmulti.c ****     /* Flush the Endpoint memory */
 223:../cyfxslfifosyncmulti.c ****     CyU3PUsbFlushEp(CY_FX_EP_PRODUCER);
 479              		.loc 1 223 0
 480 02a4 0100A0E3 		mov	r0, #1
 481 02a8 FEFFFFEB 		bl	CyU3PUsbFlushEp
 224:../cyfxslfifosyncmulti.c ****     CyU3PUsbFlushEp(CY_FX_EP_CONSUMER);
 482              		.loc 1 224 0
 483 02ac 8100A0E3 		mov	r0, #129
 484 02b0 FEFFFFEB 		bl	CyU3PUsbFlushEp
 225:../cyfxslfifosyncmulti.c **** 
 226:../cyfxslfifosyncmulti.c **** //    CyU3PGpifControlSWInput ( CyFalse   );
 227:../cyfxslfifosyncmulti.c ****     apiRetStatus = CyU3PGpifSMStart (RESET,ALPHA_RESET);
 485              		.loc 1 227 0
 486 02b4 0000A0E3 		mov	r0, #0
 487 02b8 0010A0E3 		mov	r1, #0
 488 02bc FEFFFFEB 		bl	CyU3PGpifSMStart
 489 02c0 0C000BE5 		str	r0, [fp, #-12]
 228:../cyfxslfifosyncmulti.c ****     CyU3PDebugPrint (4, "RESET = %d ALPHA_RESET = %d\n",RESET,ALPHA_RESET);
 490              		.loc 1 228 0
 491 02c4 0400A0E3 		mov	r0, #4
 492 02c8 A0109FE5 		ldr	r1, .L19+32
 493 02cc 0020A0E3 		mov	r2, #0
 494 02d0 0030A0E3 		mov	r3, #0
 495 02d4 FEFFFFEB 		bl	CyU3PDebugPrint
 229:../cyfxslfifosyncmulti.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 496              		.loc 1 229 0
 497 02d8 0C301BE5 		ldr	r3, [fp, #-12]
 498 02dc 000053E3 		cmp	r3, #0
 499 02e0 0500000A 		beq	.L16
 230:../cyfxslfifosyncmulti.c ****     {
 231:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CyU3PGpifSMStart failed, Error Code = %d\n",apiRetStatus);
 500              		.loc 1 231 0
 501 02e4 0400A0E3 		mov	r0, #4
 502 02e8 84109FE5 		ldr	r1, .L19+36
 503 02ec 0C201BE5 		ldr	r2, [fp, #-12]
 504 02f0 FEFFFFEB 		bl	CyU3PDebugPrint
 232:../cyfxslfifosyncmulti.c ****         CyFxAppErrorHandler(apiRetStatus);
 505              		.loc 1 232 0
 506 02f4 0C001BE5 		ldr	r0, [fp, #-12]
 507 02f8 FEFFFFEB 		bl	CyFxAppErrorHandler
 508              	.L16:
 233:../cyfxslfifosyncmulti.c ****     }
 234:../cyfxslfifosyncmulti.c ****  	CyU3PGpifControlSWInput ( CyFalse   );
 509              		.loc 1 234 0
 510 02fc 0000A0E3 		mov	r0, #0
 511 0300 FEFFFFEB 		bl	CyU3PGpifControlSWInput
 235:../cyfxslfifosyncmulti.c **** 
 236:../cyfxslfifosyncmulti.c ****     apiRetStatus = CyU3PDmaMultiChannelSetXfer (&glMultiChHandleSlFifoPtoU, CY_FX_SLFIFO_DMA_RX_SIZ
 512              		.loc 1 236 0
 513 0304 5C009FE5 		ldr	r0, .L19+24
 514 0308 0010A0E3 		mov	r1, #0
 515 030c 0020A0E3 		mov	r2, #0
 516 0310 FEFFFFEB 		bl	CyU3PDmaMultiChannelSetXfer
 517 0314 0C000BE5 		str	r0, [fp, #-12]
 237:../cyfxslfifosyncmulti.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 518              		.loc 1 237 0
 519 0318 0C301BE5 		ldr	r3, [fp, #-12]
 520 031c 000053E3 		cmp	r3, #0
 521 0320 0500000A 		beq	.L17
 238:../cyfxslfifosyncmulti.c ****     {
 239:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CyU3PDmaMultiChannelSetXfer Failed, Error code = %d\n", apiRetStatus);
 522              		.loc 1 239 0
 523 0324 0400A0E3 		mov	r0, #4
 524 0328 48109FE5 		ldr	r1, .L19+40
 525 032c 0C201BE5 		ldr	r2, [fp, #-12]
 526 0330 FEFFFFEB 		bl	CyU3PDebugPrint
 240:../cyfxslfifosyncmulti.c ****         CyFxAppErrorHandler(apiRetStatus);
 527              		.loc 1 240 0
 528 0334 0C001BE5 		ldr	r0, [fp, #-12]
 529 0338 FEFFFFEB 		bl	CyFxAppErrorHandler
 530              	.L17:
 241:../cyfxslfifosyncmulti.c ****     }
 242:../cyfxslfifosyncmulti.c **** 
 243:../cyfxslfifosyncmulti.c ****     /* Update the status flag. */
 244:../cyfxslfifosyncmulti.c ****     glIsApplnActive = CyTrue;
 531              		.loc 1 244 0
 532 033c 38309FE5 		ldr	r3, .L19+44
 533 0340 0120A0E3 		mov	r2, #1
 534 0344 002083E5 		str	r2, [r3]
 245:../cyfxslfifosyncmulti.c **** //    CyU3PGpioSetValue (59, CyFalse);
 246:../cyfxslfifosyncmulti.c **** }
 535              		.loc 1 246 0
 536 0348 04D04BE2 		sub	sp, fp, #4
 537              		@ sp needed
 538 034c 0088BDE8 		ldmfd	sp!, {fp, pc}
 539              	.L20:
 540              		.align	2
 541              	.L19:
 542 0350 1C000000 		.word	.LC0
 543 0354 00000000 		.word	burstLength
 544 0358 30000000 		.word	.LC1
 545 035c 4C000000 		.word	.LC2
 546 0360 01010000 		.word	257
 547 0364 01030000 		.word	769
 548 0368 00000000 		.word	glMultiChHandleSlFifoPtoU
 549 036c 78000000 		.word	.LC3
 550 0370 AC000000 		.word	.LC4
 551 0374 CC000000 		.word	.LC5
 552 0378 F8000000 		.word	.LC6
 553 037c 00000000 		.word	glIsApplnActive
 554              		.cfi_endproc
 555              	.LFE1:
 557              		.section	.rodata
 558 012d 000000   		.align	2
 559              	.LC7:
 560 0130 4170706C 		.ascii	"Application Stop\012\000"
 560      69636174 
 560      696F6E20 
 560      53746F70 
 560      0A00
 561              		.text
 562              		.align	2
 563              		.global	CyFxSlFifoApplnStop
 565              	CyFxSlFifoApplnStop:
 566              	.LFB2:
 247:../cyfxslfifosyncmulti.c **** 
 248:../cyfxslfifosyncmulti.c **** /* This function stops the slave FIFO loop application. This shall be called
 249:../cyfxslfifosyncmulti.c ****  * whenever a RESET or DISCONNECT event is received from the USB host. The
 250:../cyfxslfifosyncmulti.c ****  * endpoints are disabled and the DMA pipe is destroyed by this function. */
 251:../cyfxslfifosyncmulti.c **** void
 252:../cyfxslfifosyncmulti.c **** CyFxSlFifoApplnStop (
 253:../cyfxslfifosyncmulti.c ****         void)
 254:../cyfxslfifosyncmulti.c **** {
 567              		.loc 1 254 0
 568              		.cfi_startproc
 569              		@ args = 0, pretend = 0, frame = 16
 570              		@ frame_needed = 1, uses_anonymous_args = 0
 571 0380 00482DE9 		stmfd	sp!, {fp, lr}
 572              	.LCFI4:
 573              		.cfi_def_cfa_offset 8
 574              		.cfi_offset 11, -8
 575              		.cfi_offset 14, -4
 576 0384 04B08DE2 		add	fp, sp, #4
 577              	.LCFI5:
 578              		.cfi_def_cfa 11, 4
 579 0388 10D04DE2 		sub	sp, sp, #16
 255:../cyfxslfifosyncmulti.c ****     CyU3PEpConfig_t epCfg;
 256:../cyfxslfifosyncmulti.c ****     CyU3PReturnStatus_t apiRetStatus = CY_U3P_SUCCESS;
 580              		.loc 1 256 0
 581 038c 0030A0E3 		mov	r3, #0
 582 0390 08300BE5 		str	r3, [fp, #-8]
 257:../cyfxslfifosyncmulti.c **** 
 258:../cyfxslfifosyncmulti.c ****     CyU3PDebugPrint (4, "Application Stop\n");
 583              		.loc 1 258 0
 584 0394 0400A0E3 		mov	r0, #4
 585 0398 B8109FE5 		ldr	r1, .L24
 586 039c FEFFFFEB 		bl	CyU3PDebugPrint
 259:../cyfxslfifosyncmulti.c ****     /* Update the flag. */
 260:../cyfxslfifosyncmulti.c ****     glIsApplnActive = CyFalse;
 587              		.loc 1 260 0
 588 03a0 B4309FE5 		ldr	r3, .L24+4
 589 03a4 0020A0E3 		mov	r2, #0
 590 03a8 002083E5 		str	r2, [r3]
 261:../cyfxslfifosyncmulti.c **** 
 262:../cyfxslfifosyncmulti.c ****     /* Flush the endpoint memory */
 263:../cyfxslfifosyncmulti.c ****     CyU3PUsbFlushEp(CY_FX_EP_PRODUCER);
 591              		.loc 1 263 0
 592 03ac 0100A0E3 		mov	r0, #1
 593 03b0 FEFFFFEB 		bl	CyU3PUsbFlushEp
 264:../cyfxslfifosyncmulti.c ****     CyU3PUsbFlushEp(CY_FX_EP_CONSUMER);
 594              		.loc 1 264 0
 595 03b4 8100A0E3 		mov	r0, #129
 596 03b8 FEFFFFEB 		bl	CyU3PUsbFlushEp
 265:../cyfxslfifosyncmulti.c **** 
 266:../cyfxslfifosyncmulti.c ****     /* Destroy the channel */
 267:../cyfxslfifosyncmulti.c **** //    CyU3PDmaChannelDestroy (&glChHandleSlFifoUtoP);
 268:../cyfxslfifosyncmulti.c ****     CyU3PDmaMultiChannelDestroy (&glMultiChHandleSlFifoPtoU);
 597              		.loc 1 268 0
 598 03bc 9C009FE5 		ldr	r0, .L24+8
 599 03c0 FEFFFFEB 		bl	CyU3PDmaMultiChannelDestroy
 269:../cyfxslfifosyncmulti.c **** 
 270:../cyfxslfifosyncmulti.c ****     /* Disable endpoints. */
 271:../cyfxslfifosyncmulti.c ****     CyU3PMemSet ((uint8_t *)&epCfg, 0, sizeof (epCfg));
 600              		.loc 1 271 0
 601 03c4 14304BE2 		sub	r3, fp, #20
 602 03c8 0300A0E1 		mov	r0, r3
 603 03cc 0010A0E3 		mov	r1, #0
 604 03d0 0C20A0E3 		mov	r2, #12
 605 03d4 FEFFFFEB 		bl	CyU3PMemSet
 272:../cyfxslfifosyncmulti.c ****     epCfg.enable = CyFalse;
 606              		.loc 1 272 0
 607 03d8 0030A0E3 		mov	r3, #0
 608 03dc 14300BE5 		str	r3, [fp, #-20]
 273:../cyfxslfifosyncmulti.c **** 
 274:../cyfxslfifosyncmulti.c ****     /* Producer endpoint configuration. */
 275:../cyfxslfifosyncmulti.c ****     apiRetStatus = CyU3PSetEpConfig(CY_FX_EP_PRODUCER, &epCfg);
 609              		.loc 1 275 0
 610 03e0 14304BE2 		sub	r3, fp, #20
 611 03e4 0100A0E3 		mov	r0, #1
 612 03e8 0310A0E1 		mov	r1, r3
 613 03ec FEFFFFEB 		bl	CyU3PSetEpConfig
 614 03f0 08000BE5 		str	r0, [fp, #-8]
 276:../cyfxslfifosyncmulti.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 615              		.loc 1 276 0
 616 03f4 08301BE5 		ldr	r3, [fp, #-8]
 617 03f8 000053E3 		cmp	r3, #0
 618 03fc 0500000A 		beq	.L22
 277:../cyfxslfifosyncmulti.c ****     {
 278:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CyU3PSetEpConfig failed, Error code = %d\n", apiRetStatus);
 619              		.loc 1 278 0
 620 0400 0400A0E3 		mov	r0, #4
 621 0404 58109FE5 		ldr	r1, .L24+12
 622 0408 08201BE5 		ldr	r2, [fp, #-8]
 623 040c FEFFFFEB 		bl	CyU3PDebugPrint
 279:../cyfxslfifosyncmulti.c ****         CyFxAppErrorHandler (apiRetStatus);
 624              		.loc 1 279 0
 625 0410 08001BE5 		ldr	r0, [fp, #-8]
 626 0414 FEFFFFEB 		bl	CyFxAppErrorHandler
 627              	.L22:
 280:../cyfxslfifosyncmulti.c ****     }
 281:../cyfxslfifosyncmulti.c **** 
 282:../cyfxslfifosyncmulti.c ****     /* Consumer endpoint configuration. */
 283:../cyfxslfifosyncmulti.c ****     apiRetStatus = CyU3PSetEpConfig(CY_FX_EP_CONSUMER, &epCfg);
 628              		.loc 1 283 0
 629 0418 14304BE2 		sub	r3, fp, #20
 630 041c 8100A0E3 		mov	r0, #129
 631 0420 0310A0E1 		mov	r1, r3
 632 0424 FEFFFFEB 		bl	CyU3PSetEpConfig
 633 0428 08000BE5 		str	r0, [fp, #-8]
 284:../cyfxslfifosyncmulti.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 634              		.loc 1 284 0
 635 042c 08301BE5 		ldr	r3, [fp, #-8]
 636 0430 000053E3 		cmp	r3, #0
 637 0434 0500000A 		beq	.L21
 285:../cyfxslfifosyncmulti.c ****     {
 286:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CyU3PSetEpConfig failed, Error code = %d\n", apiRetStatus);
 638              		.loc 1 286 0
 639 0438 0400A0E3 		mov	r0, #4
 640 043c 20109FE5 		ldr	r1, .L24+12
 641 0440 08201BE5 		ldr	r2, [fp, #-8]
 642 0444 FEFFFFEB 		bl	CyU3PDebugPrint
 287:../cyfxslfifosyncmulti.c ****         CyFxAppErrorHandler (apiRetStatus);
 643              		.loc 1 287 0
 644 0448 08001BE5 		ldr	r0, [fp, #-8]
 645 044c FEFFFFEB 		bl	CyFxAppErrorHandler
 646              	.L21:
 288:../cyfxslfifosyncmulti.c ****     }
 289:../cyfxslfifosyncmulti.c **** }
 647              		.loc 1 289 0
 648 0450 04D04BE2 		sub	sp, fp, #4
 649              		@ sp needed
 650 0454 0088BDE8 		ldmfd	sp!, {fp, pc}
 651              	.L25:
 652              		.align	2
 653              	.L24:
 654 0458 30010000 		.word	.LC7
 655 045c 00000000 		.word	glIsApplnActive
 656 0460 00000000 		.word	glMultiChHandleSlFifoPtoU
 657 0464 4C000000 		.word	.LC2
 658              		.cfi_endproc
 659              	.LFE2:
 661              		.section	.rodata
 662 0142 0000     		.align	2
 663              	.LC8:
 664 0144 55534253 		.ascii	"USBSetupCB\012\000"
 664      65747570 
 664      43420A00 
 665              		.align	2
 666              	.LC9:
 667 0150 56454E44 		.ascii	"VENDOR, REQUEST %x\012\000"
 667      4F522C20 
 667      52455155 
 667      45535420 
 667      25780A00 
 668              		.align	2
 669              	.LC10:
 670 0164 53455420 		.ascii	"SET FLAG GPIF\012\000"
 670      464C4147 
 670      20475049 
 670      460A00
 671 0173 00       		.align	2
 672              	.LC11:
 673 0174 434C4541 		.ascii	"CLEAR FLAG GPIF\012\000"
 673      5220464C 
 673      41472047 
 673      5049460A 
 673      00
 674 0185 000000   		.align	2
 675              	.LC12:
 676 0188 52455345 		.ascii	"RESET DEVICE\012\000"
 676      54204445 
 676      56494345 
 676      0A00
 677 0196 0000     		.align	2
 678              	.LC13:
 679 0198 50415553 		.ascii	"PAUSE GPIF\012\000"
 679      45204750 
 679      49460A00 
 680              		.text
 681              		.align	2
 682              		.global	CyFxSlFifoApplnUSBSetupCB
 684              	CyFxSlFifoApplnUSBSetupCB:
 685              	.LFB3:
 290:../cyfxslfifosyncmulti.c **** 
 291:../cyfxslfifosyncmulti.c **** /* Callback to handle the USB setup requests. */
 292:../cyfxslfifosyncmulti.c **** CyBool_t
 293:../cyfxslfifosyncmulti.c **** CyFxSlFifoApplnUSBSetupCB (
 294:../cyfxslfifosyncmulti.c ****         uint32_t setupdat0,
 295:../cyfxslfifosyncmulti.c ****         uint32_t setupdat1
 296:../cyfxslfifosyncmulti.c ****     )
 297:../cyfxslfifosyncmulti.c **** {
 686              		.loc 1 297 0
 687              		.cfi_startproc
 688              		@ args = 0, pretend = 0, frame = 24
 689              		@ frame_needed = 1, uses_anonymous_args = 0
 690 0468 00482DE9 		stmfd	sp!, {fp, lr}
 691              	.LCFI6:
 692              		.cfi_def_cfa_offset 8
 693              		.cfi_offset 11, -8
 694              		.cfi_offset 14, -4
 695 046c 04B08DE2 		add	fp, sp, #4
 696              	.LCFI7:
 697              		.cfi_def_cfa 11, 4
 698 0470 18D04DE2 		sub	sp, sp, #24
 699 0474 18000BE5 		str	r0, [fp, #-24]
 700 0478 1C100BE5 		str	r1, [fp, #-28]
 298:../cyfxslfifosyncmulti.c **** 	CyU3PDebugPrint (4, "USBSetupCB\n");
 701              		.loc 1 298 0
 702 047c 0400A0E3 		mov	r0, #4
 703 0480 68129FE5 		ldr	r1, .L40
 704 0484 FEFFFFEB 		bl	CyU3PDebugPrint
 299:../cyfxslfifosyncmulti.c ****     /* Fast enumeration is used. Only requests addressed to the interface, class,
 300:../cyfxslfifosyncmulti.c ****      * vendor and unknown control requests are received by this function.
 301:../cyfxslfifosyncmulti.c ****      * This application does not support any class or vendor requests. */
 302:../cyfxslfifosyncmulti.c **** 
 303:../cyfxslfifosyncmulti.c ****     uint8_t  bRequest, bReqType;
 304:../cyfxslfifosyncmulti.c ****     uint8_t  bType, bTarget;
 305:../cyfxslfifosyncmulti.c ****     uint16_t wValue, wIndex;
 306:../cyfxslfifosyncmulti.c ****     CyBool_t isHandled = CyFalse;
 705              		.loc 1 306 0
 706 0488 0030A0E3 		mov	r3, #0
 707 048c 08300BE5 		str	r3, [fp, #-8]
 307:../cyfxslfifosyncmulti.c **** 
 308:../cyfxslfifosyncmulti.c ****     /* Decode the fields from the setup request. */
 309:../cyfxslfifosyncmulti.c ****     bReqType = (setupdat0 & CY_U3P_USB_REQUEST_TYPE_MASK);
 708              		.loc 1 309 0
 709 0490 18301BE5 		ldr	r3, [fp, #-24]
 710 0494 09304BE5 		strb	r3, [fp, #-9]
 310:../cyfxslfifosyncmulti.c ****     bType    = (bReqType & CY_U3P_USB_TYPE_MASK);
 711              		.loc 1 310 0
 712 0498 09305BE5 		ldrb	r3, [fp, #-9]
 713 049c 603003E2 		and	r3, r3, #96
 714 04a0 0A304BE5 		strb	r3, [fp, #-10]
 311:../cyfxslfifosyncmulti.c ****     bTarget  = (bReqType & CY_U3P_USB_TARGET_MASK);
 715              		.loc 1 311 0
 716 04a4 09305BE5 		ldrb	r3, [fp, #-9]
 717 04a8 033003E2 		and	r3, r3, #3
 718 04ac 0B304BE5 		strb	r3, [fp, #-11]
 312:../cyfxslfifosyncmulti.c ****     bRequest = ((setupdat0 & CY_U3P_USB_REQUEST_MASK) >> CY_U3P_USB_REQUEST_POS);
 719              		.loc 1 312 0
 720 04b0 18301BE5 		ldr	r3, [fp, #-24]
 721 04b4 FF3C03E2 		and	r3, r3, #65280
 722 04b8 2334A0E1 		mov	r3, r3, lsr #8
 723 04bc 0C304BE5 		strb	r3, [fp, #-12]
 313:../cyfxslfifosyncmulti.c ****     wValue   = ((setupdat0 & CY_U3P_USB_VALUE_MASK)   >> CY_U3P_USB_VALUE_POS);
 724              		.loc 1 313 0
 725 04c0 18301BE5 		ldr	r3, [fp, #-24]
 726 04c4 2338A0E1 		mov	r3, r3, lsr #16
 727 04c8 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 314:../cyfxslfifosyncmulti.c ****     wIndex   = ((setupdat1 & CY_U3P_USB_INDEX_MASK)   >> CY_U3P_USB_INDEX_POS);
 728              		.loc 1 314 0
 729 04cc 1C301BE5 		ldr	r3, [fp, #-28]
 730 04d0 B0314BE1 		strh	r3, [fp, #-16]	@ movhi
 315:../cyfxslfifosyncmulti.c **** 
 316:../cyfxslfifosyncmulti.c ****     if (bType == CY_U3P_USB_STANDARD_RQT)
 731              		.loc 1 316 0
 732 04d4 0A305BE5 		ldrb	r3, [fp, #-10]	@ zero_extendqisi2
 733 04d8 000053E3 		cmp	r3, #0
 734 04dc 3A00001A 		bne	.L27
 317:../cyfxslfifosyncmulti.c ****     {
 318:../cyfxslfifosyncmulti.c ****         /* Handle SET_FEATURE(FUNCTION_SUSPEND) and CLEAR_FEATURE(FUNCTION_SUSPEND)
 319:../cyfxslfifosyncmulti.c ****          * requests here. It should be allowed to pass if the device is in configured
 320:../cyfxslfifosyncmulti.c ****          * state and failed otherwise. */
 321:../cyfxslfifosyncmulti.c ****         if ((bTarget == CY_U3P_USB_TARGET_INTF) && ((bRequest == CY_U3P_USB_SC_SET_FEATURE)
 735              		.loc 1 321 0
 736 04e0 0B305BE5 		ldrb	r3, [fp, #-11]	@ zero_extendqisi2
 737 04e4 010053E3 		cmp	r3, #1
 738 04e8 1400001A 		bne	.L28
 739              		.loc 1 321 0 is_stmt 0 discriminator 1
 740 04ec 0C305BE5 		ldrb	r3, [fp, #-12]	@ zero_extendqisi2
 741 04f0 030053E3 		cmp	r3, #3
 742 04f4 0200000A 		beq	.L29
 322:../cyfxslfifosyncmulti.c ****                     || (bRequest == CY_U3P_USB_SC_CLEAR_FEATURE)) && (wValue == 0))
 743              		.loc 1 322 0 is_stmt 1
 744 04f8 0C305BE5 		ldrb	r3, [fp, #-12]	@ zero_extendqisi2
 745 04fc 010053E3 		cmp	r3, #1
 746 0500 0E00001A 		bne	.L28
 747              	.L29:
 748              		.loc 1 322 0 is_stmt 0 discriminator 1
 749 0504 BE305BE1 		ldrh	r3, [fp, #-14]
 750 0508 000053E3 		cmp	r3, #0
 751 050c 0B00001A 		bne	.L28
 323:../cyfxslfifosyncmulti.c ****         {
 324:../cyfxslfifosyncmulti.c ****             if (glIsApplnActive)
 752              		.loc 1 324 0 is_stmt 1
 753 0510 DC319FE5 		ldr	r3, .L40+4
 754 0514 003093E5 		ldr	r3, [r3]
 755 0518 000053E3 		cmp	r3, #0
 756 051c 0100000A 		beq	.L30
 325:../cyfxslfifosyncmulti.c ****                 CyU3PUsbAckSetup ();
 757              		.loc 1 325 0
 758 0520 FEFFFFEB 		bl	CyU3PUsbAckSetup
 759 0524 030000EA 		b	.L31
 760              	.L30:
 326:../cyfxslfifosyncmulti.c ****             else
 327:../cyfxslfifosyncmulti.c ****                 CyU3PUsbStall (0, CyTrue, CyFalse);
 761              		.loc 1 327 0
 762 0528 0000A0E3 		mov	r0, #0
 763 052c 0110A0E3 		mov	r1, #1
 764 0530 0020A0E3 		mov	r2, #0
 765 0534 FEFFFFEB 		bl	CyU3PUsbStall
 766              	.L31:
 328:../cyfxslfifosyncmulti.c **** 
 329:../cyfxslfifosyncmulti.c ****             isHandled = CyTrue;
 767              		.loc 1 329 0
 768 0538 0130A0E3 		mov	r3, #1
 769 053c 08300BE5 		str	r3, [fp, #-8]
 770              	.L28:
 330:../cyfxslfifosyncmulti.c ****         }
 331:../cyfxslfifosyncmulti.c **** 
 332:../cyfxslfifosyncmulti.c ****         /* CLEAR_FEATURE request for endpoint is always passed to the setup callback
 333:../cyfxslfifosyncmulti.c ****          * regardless of the enumeration model used. When a clear feature is received,
 334:../cyfxslfifosyncmulti.c ****          * the previous transfer has to be flushed and cleaned up. This is done at the
 335:../cyfxslfifosyncmulti.c ****          * protocol level. So flush the EP memory and reset the DMA channel associated
 336:../cyfxslfifosyncmulti.c ****          * with it. If there are more than one EP associated with the channel reset both
 337:../cyfxslfifosyncmulti.c ****          * the EPs. The endpoint stall and toggle / sequence number is also expected to be
 338:../cyfxslfifosyncmulti.c ****          * reset. Return CyFalse to make the library clear the stall and reset the endpoint
 339:../cyfxslfifosyncmulti.c ****          * toggle. Or invoke the CyU3PUsbStall (ep, CyFalse, CyTrue) and return CyTrue.
 340:../cyfxslfifosyncmulti.c ****          * Here we are clearing the stall. */
 341:../cyfxslfifosyncmulti.c ****         if ((bTarget == CY_U3P_USB_TARGET_ENDPT) && (bRequest == CY_U3P_USB_SC_CLEAR_FEATURE)
 771              		.loc 1 341 0
 772 0540 0B305BE5 		ldrb	r3, [fp, #-11]	@ zero_extendqisi2
 773 0544 020053E3 		cmp	r3, #2
 774 0548 6400001A 		bne	.L34
 775              		.loc 1 341 0 is_stmt 0 discriminator 1
 776 054c 0C305BE5 		ldrb	r3, [fp, #-12]	@ zero_extendqisi2
 777 0550 010053E3 		cmp	r3, #1
 778 0554 6100001A 		bne	.L34
 342:../cyfxslfifosyncmulti.c ****                 && (wValue == CY_U3P_USBX_FS_EP_HALT))
 779              		.loc 1 342 0 is_stmt 1
 780 0558 BE305BE1 		ldrh	r3, [fp, #-14]
 781 055c 000053E3 		cmp	r3, #0
 782 0560 5E00001A 		bne	.L34
 343:../cyfxslfifosyncmulti.c ****         {
 344:../cyfxslfifosyncmulti.c ****             if (glIsApplnActive)
 783              		.loc 1 344 0
 784 0564 88319FE5 		ldr	r3, .L40+4
 785 0568 003093E5 		ldr	r3, [r3]
 786 056c 000053E3 		cmp	r3, #0
 787 0570 5A00000A 		beq	.L34
 345:../cyfxslfifosyncmulti.c ****             {
 346:../cyfxslfifosyncmulti.c ****                 if (wIndex == CY_FX_EP_PRODUCER)
 347:../cyfxslfifosyncmulti.c ****                 {
 348:../cyfxslfifosyncmulti.c **** //                    CyU3PDmaChannelReset (&glChHandleSlFifoUtoP);
 349:../cyfxslfifosyncmulti.c **** //                    CyU3PUsbFlushEp(CY_FX_EP_PRODUCER);
 350:../cyfxslfifosyncmulti.c **** //                    CyU3PUsbResetEp (CY_FX_EP_PRODUCER);
 351:../cyfxslfifosyncmulti.c **** //                    CyU3PDmaChannelSetXfer (&glChHandleSlFifoUtoP, CY_FX_SLFIFO_DMA_TX_SIZE);
 352:../cyfxslfifosyncmulti.c ****                 }
 353:../cyfxslfifosyncmulti.c **** 
 354:../cyfxslfifosyncmulti.c ****                 if (wIndex == CY_FX_EP_CONSUMER)
 788              		.loc 1 354 0
 789 0574 B0315BE1 		ldrh	r3, [fp, #-16]
 790 0578 810053E3 		cmp	r3, #129
 791 057c 0900001A 		bne	.L33
 355:../cyfxslfifosyncmulti.c ****                 {
 356:../cyfxslfifosyncmulti.c ****                     CyU3PDmaMultiChannelReset (&glMultiChHandleSlFifoPtoU);
 792              		.loc 1 356 0
 793 0580 70019FE5 		ldr	r0, .L40+8
 794 0584 FEFFFFEB 		bl	CyU3PDmaMultiChannelReset
 357:../cyfxslfifosyncmulti.c ****                     CyU3PUsbFlushEp(CY_FX_EP_CONSUMER);
 795              		.loc 1 357 0
 796 0588 8100A0E3 		mov	r0, #129
 797 058c FEFFFFEB 		bl	CyU3PUsbFlushEp
 358:../cyfxslfifosyncmulti.c ****                     CyU3PUsbResetEp (CY_FX_EP_CONSUMER);
 798              		.loc 1 358 0
 799 0590 8100A0E3 		mov	r0, #129
 800 0594 FEFFFFEB 		bl	CyU3PUsbResetEp
 359:../cyfxslfifosyncmulti.c ****                     CyU3PDmaMultiChannelSetXfer (&glMultiChHandleSlFifoPtoU, CY_FX_SLFIFO_DMA_RX_SI
 801              		.loc 1 359 0
 802 0598 58019FE5 		ldr	r0, .L40+8
 803 059c 0010A0E3 		mov	r1, #0
 804 05a0 0020A0E3 		mov	r2, #0
 805 05a4 FEFFFFEB 		bl	CyU3PDmaMultiChannelSetXfer
 806              	.L33:
 360:../cyfxslfifosyncmulti.c ****                 }
 361:../cyfxslfifosyncmulti.c **** 
 362:../cyfxslfifosyncmulti.c ****                 CyU3PUsbStall (wIndex, CyFalse, CyTrue);
 807              		.loc 1 362 0
 808 05a8 B0315BE1 		ldrh	r3, [fp, #-16]	@ movhi
 809 05ac FF3003E2 		and	r3, r3, #255
 810 05b0 0300A0E1 		mov	r0, r3
 811 05b4 0010A0E3 		mov	r1, #0
 812 05b8 0120A0E3 		mov	r2, #1
 813 05bc FEFFFFEB 		bl	CyU3PUsbStall
 363:../cyfxslfifosyncmulti.c ****                 isHandled = CyTrue;
 814              		.loc 1 363 0
 815 05c0 0130A0E3 		mov	r3, #1
 816 05c4 08300BE5 		str	r3, [fp, #-8]
 817 05c8 440000EA 		b	.L34
 818              	.L27:
 364:../cyfxslfifosyncmulti.c ****             }
 365:../cyfxslfifosyncmulti.c ****         }
 366:../cyfxslfifosyncmulti.c ****     } else if (bType == CY_U3P_USB_VENDOR_RQT) {
 819              		.loc 1 366 0
 820 05cc 0A305BE5 		ldrb	r3, [fp, #-10]	@ zero_extendqisi2
 821 05d0 400053E3 		cmp	r3, #64
 822 05d4 4100001A 		bne	.L34
 823              	.LBB2:
 367:../cyfxslfifosyncmulti.c ****     	uint16_t u16 = (uint16_t) bRequest;
 824              		.loc 1 367 0
 825 05d8 0C305BE5 		ldrb	r3, [fp, #-12]	@ zero_extendqisi2
 826 05dc B2314BE1 		strh	r3, [fp, #-18]	@ movhi
 368:../cyfxslfifosyncmulti.c ****     	CyU3PDebugPrint (4, "VENDOR, REQUEST %x\n",u16);
 827              		.loc 1 368 0
 828 05e0 B2315BE1 		ldrh	r3, [fp, #-18]
 829 05e4 0400A0E3 		mov	r0, #4
 830 05e8 0C119FE5 		ldr	r1, .L40+12
 831 05ec 0320A0E1 		mov	r2, r3
 832 05f0 FEFFFFEB 		bl	CyU3PDebugPrint
 369:../cyfxslfifosyncmulti.c ****     	CyU3PThreadSleep(10);
 833              		.loc 1 369 0
 834 05f4 0A00A0E3 		mov	r0, #10
 835 05f8 FEFFFFEB 		bl	_tx_thread_sleep
 370:../cyfxslfifosyncmulti.c ****     	if (bRequest == 0xAA) {
 836              		.loc 1 370 0
 837 05fc 0C305BE5 		ldrb	r3, [fp, #-12]	@ zero_extendqisi2
 838 0600 AA0053E3 		cmp	r3, #170
 839 0604 0800001A 		bne	.L35
 371:../cyfxslfifosyncmulti.c ****              CyU3PDmaMultiChannelSetXfer (&glMultiChHandleSlFifoPtoU, CY_FX_SLFIFO_DMA_RX_SIZE,0);
 840              		.loc 1 371 0
 841 0608 E8009FE5 		ldr	r0, .L40+8
 842 060c 0010A0E3 		mov	r1, #0
 843 0610 0020A0E3 		mov	r2, #0
 844 0614 FEFFFFEB 		bl	CyU3PDmaMultiChannelSetXfer
 372:../cyfxslfifosyncmulti.c ****        	CyU3PDebugPrint (4, "SET FLAG GPIF\n");
 845              		.loc 1 372 0
 846 0618 0400A0E3 		mov	r0, #4
 847 061c DC109FE5 		ldr	r1, .L40+16
 848 0620 FEFFFFEB 		bl	CyU3PDebugPrint
 373:../cyfxslfifosyncmulti.c ****          	CyU3PGpifControlSWInput ( CyTrue   );
 849              		.loc 1 373 0
 850 0624 0100A0E3 		mov	r0, #1
 851 0628 FEFFFFEB 		bl	CyU3PGpifControlSWInput
 852              	.L35:
 374:../cyfxslfifosyncmulti.c ****     	}
 375:../cyfxslfifosyncmulti.c ****     	if (bRequest == 0xBB) {
 853              		.loc 1 375 0
 854 062c 0C305BE5 		ldrb	r3, [fp, #-12]	@ zero_extendqisi2
 855 0630 BB0053E3 		cmp	r3, #187
 856 0634 0A00001A 		bne	.L36
 376:../cyfxslfifosyncmulti.c ****         	CyU3PDebugPrint (4, "CLEAR FLAG GPIF\n");
 857              		.loc 1 376 0
 858 0638 0400A0E3 		mov	r0, #4
 859 063c C0109FE5 		ldr	r1, .L40+20
 860 0640 FEFFFFEB 		bl	CyU3PDebugPrint
 377:../cyfxslfifosyncmulti.c ****          	CyU3PGpifControlSWInput ( CyFalse   );
 861              		.loc 1 377 0
 862 0644 0000A0E3 		mov	r0, #0
 863 0648 FEFFFFEB 		bl	CyU3PGpifControlSWInput
 378:../cyfxslfifosyncmulti.c ****             CyU3PDmaMultiChannelReset (&glMultiChHandleSlFifoPtoU);
 864              		.loc 1 378 0
 865 064c A4009FE5 		ldr	r0, .L40+8
 866 0650 FEFFFFEB 		bl	CyU3PDmaMultiChannelReset
 379:../cyfxslfifosyncmulti.c ****              CyU3PUsbFlushEp(CY_FX_EP_CONSUMER);
 867              		.loc 1 379 0
 868 0654 8100A0E3 		mov	r0, #129
 869 0658 FEFFFFEB 		bl	CyU3PUsbFlushEp
 380:../cyfxslfifosyncmulti.c ****              CyU3PUsbResetEp (CY_FX_EP_CONSUMER);
 870              		.loc 1 380 0
 871 065c 8100A0E3 		mov	r0, #129
 872 0660 FEFFFFEB 		bl	CyU3PUsbResetEp
 873              	.L36:
 381:../cyfxslfifosyncmulti.c ****     	}
 382:../cyfxslfifosyncmulti.c ****     	if (bRequest == 0xCC) {
 874              		.loc 1 382 0
 875 0664 0C305BE5 		ldrb	r3, [fp, #-12]	@ zero_extendqisi2
 876 0668 CC0053E3 		cmp	r3, #204
 877 066c 1300001A 		bne	.L37
 383:../cyfxslfifosyncmulti.c ****         	CyU3PDebugPrint (4, "RESET DEVICE\n");
 878              		.loc 1 383 0
 879 0670 0400A0E3 		mov	r0, #4
 880 0674 8C109FE5 		ldr	r1, .L40+24
 881 0678 FEFFFFEB 		bl	CyU3PDebugPrint
 384:../cyfxslfifosyncmulti.c **** //        	CyU3PConnectState (
 385:../cyfxslfifosyncmulti.c **** //        	        CyBool_t connect,            /**< CyTrue to enable connection, CyFalse to disabl
 386:../cyfxslfifosyncmulti.c **** //        	        CyBool_t ssEnable            /**< Whether to enumerate as a SS device or FS/HS d
 387:../cyfxslfifosyncmulti.c **** //        	        );
 388:../cyfxslfifosyncmulti.c **** //        	CyFxSlFifoApplnStop();
 389:../cyfxslfifosyncmulti.c ****          	CyU3PGpifControlSWInput ( CyFalse   );
 882              		.loc 1 389 0
 883 067c 0000A0E3 		mov	r0, #0
 884 0680 FEFFFFEB 		bl	CyU3PGpifControlSWInput
 390:../cyfxslfifosyncmulti.c ****             CyU3PDmaMultiChannelReset (&glMultiChHandleSlFifoPtoU);
 885              		.loc 1 390 0
 886 0684 6C009FE5 		ldr	r0, .L40+8
 887 0688 FEFFFFEB 		bl	CyU3PDmaMultiChannelReset
 391:../cyfxslfifosyncmulti.c ****              CyU3PUsbFlushEp(CY_FX_EP_CONSUMER);
 888              		.loc 1 391 0
 889 068c 8100A0E3 		mov	r0, #129
 890 0690 FEFFFFEB 		bl	CyU3PUsbFlushEp
 392:../cyfxslfifosyncmulti.c ****              CyU3PUsbResetEp (CY_FX_EP_CONSUMER);
 891              		.loc 1 392 0
 892 0694 8100A0E3 		mov	r0, #129
 893 0698 FEFFFFEB 		bl	CyU3PUsbResetEp
 393:../cyfxslfifosyncmulti.c ****         	CyU3PConnectState (CyFalse,CyTrue);
 894              		.loc 1 393 0
 895 069c 0000A0E3 		mov	r0, #0
 896 06a0 0110A0E3 		mov	r1, #1
 897 06a4 FEFFFFEB 		bl	CyU3PConnectState
 898              	.L38:
 394:../cyfxslfifosyncmulti.c ****         	ResetDevice();
 899              		.loc 1 394 0 discriminator 1
 900 06a8 5C309FE5 		ldr	r3, .L40+28
 901 06ac 58209FE5 		ldr	r2, .L40+28
 902 06b0 002092E5 		ldr	r2, [r2]
 903 06b4 0221C2E3 		bic	r2, r2, #-2147483648
 904 06b8 002083E5 		str	r2, [r3]
 905 06bc F9FFFFEA 		b	.L38
 906              	.L37:
 395:../cyfxslfifosyncmulti.c ****     	}
 396:../cyfxslfifosyncmulti.c ****     	if (bRequest == 0xDD) {
 907              		.loc 1 396 0
 908 06c0 0C305BE5 		ldrb	r3, [fp, #-12]	@ zero_extendqisi2
 909 06c4 DD0053E3 		cmp	r3, #221
 910 06c8 0400001A 		bne	.L34
 397:../cyfxslfifosyncmulti.c ****         	CyU3PDebugPrint (4, "PAUSE GPIF\n");
 911              		.loc 1 397 0
 912 06cc 0400A0E3 		mov	r0, #4
 913 06d0 38109FE5 		ldr	r1, .L40+32
 914 06d4 FEFFFFEB 		bl	CyU3PDebugPrint
 398:../cyfxslfifosyncmulti.c ****         	CyU3PGpifSMControl (CyTrue); //  pause
 915              		.loc 1 398 0
 916 06d8 0100A0E3 		mov	r0, #1
 917 06dc FEFFFFEB 		bl	CyU3PGpifSMControl
 918              	.L34:
 919              	.LBE2:
 399:../cyfxslfifosyncmulti.c ****     	}
 400:../cyfxslfifosyncmulti.c ****     }
 401:../cyfxslfifosyncmulti.c ****     return isHandled;
 920              		.loc 1 401 0
 921 06e0 08301BE5 		ldr	r3, [fp, #-8]
 402:../cyfxslfifosyncmulti.c **** }
 922              		.loc 1 402 0
 923 06e4 0300A0E1 		mov	r0, r3
 924 06e8 04D04BE2 		sub	sp, fp, #4
 925              		@ sp needed
 926 06ec 0088BDE8 		ldmfd	sp!, {fp, pc}
 927              	.L41:
 928              		.align	2
 929              	.L40:
 930 06f0 44010000 		.word	.LC8
 931 06f4 00000000 		.word	glIsApplnActive
 932 06f8 00000000 		.word	glMultiChHandleSlFifoPtoU
 933 06fc 50010000 		.word	.LC9
 934 0700 64010000 		.word	.LC10
 935 0704 74010000 		.word	.LC11
 936 0708 88010000 		.word	.LC12
 937 070c 000005E0 		.word	-536543232
 938 0710 98010000 		.word	.LC13
 939              		.cfi_endproc
 940              	.LFE3:
 942              		.section	.rodata
 943              		.align	2
 944              	.LC14:
 945 01a4 55534220 		.ascii	"USB EVENT CB %x\012\000"
 945      4556454E 
 945      54204342 
 945      2025780A 
 945      00
 946 01b5 000000   		.align	2
 947              	.LC15:
 948 01b8 55534220 		.ascii	"USB EVENT CB DISCONNECT %x\012\000"
 948      4556454E 
 948      54204342 
 948      20444953 
 948      434F4E4E 
 949              		.text
 950              		.align	2
 951              		.global	CyFxSlFifoApplnUSBEventCB
 953              	CyFxSlFifoApplnUSBEventCB:
 954              	.LFB4:
 403:../cyfxslfifosyncmulti.c **** 
 404:../cyfxslfifosyncmulti.c **** /* This is the callback function to handle the USB events. */
 405:../cyfxslfifosyncmulti.c **** void CyFxSlFifoApplnUSBEventCB (
 406:../cyfxslfifosyncmulti.c ****     CyU3PUsbEventType_t evtype,
 407:../cyfxslfifosyncmulti.c ****     uint16_t            evdata
 408:../cyfxslfifosyncmulti.c ****     ) {
 955              		.loc 1 408 0
 956              		.cfi_startproc
 957              		@ args = 0, pretend = 0, frame = 8
 958              		@ frame_needed = 1, uses_anonymous_args = 0
 959 0714 00482DE9 		stmfd	sp!, {fp, lr}
 960              	.LCFI8:
 961              		.cfi_def_cfa_offset 8
 962              		.cfi_offset 11, -8
 963              		.cfi_offset 14, -4
 964 0718 04B08DE2 		add	fp, sp, #4
 965              	.LCFI9:
 966              		.cfi_def_cfa 11, 4
 967 071c 08D04DE2 		sub	sp, sp, #8
 968 0720 0020A0E1 		mov	r2, r0
 969 0724 0130A0E1 		mov	r3, r1
 970 0728 05204BE5 		strb	r2, [fp, #-5]
 971 072c B8304BE1 		strh	r3, [fp, #-8]	@ movhi
 409:../cyfxslfifosyncmulti.c **** 	CyU3PDebugPrint (4, "USB EVENT CB %x\n",evtype);
 972              		.loc 1 409 0
 973 0730 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 974 0734 0400A0E3 		mov	r0, #4
 975 0738 7C109FE5 		ldr	r1, .L50
 976 073c 0320A0E1 		mov	r2, r3
 977 0740 FEFFFFEB 		bl	CyU3PDebugPrint
 410:../cyfxslfifosyncmulti.c ****     switch (evtype)
 978              		.loc 1 410 0
 979 0744 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 980 0748 040053E3 		cmp	r3, #4
 981 074c 0C00000A 		beq	.L44
 982 0750 050053E3 		cmp	r3, #5
 983 0754 0200000A 		beq	.L45
 984 0758 010053E3 		cmp	r3, #1
 985 075c 0800000A 		beq	.L44
 411:../cyfxslfifosyncmulti.c ****     {
 412:../cyfxslfifosyncmulti.c ****         case CY_U3P_USB_EVENT_SETCONF:
 413:../cyfxslfifosyncmulti.c ****             /* Stop the application before re-starting. */
 414:../cyfxslfifosyncmulti.c ****             if (glIsApplnActive) CyFxSlFifoApplnStop ();
 415:../cyfxslfifosyncmulti.c ****             CyU3PUsbLPMDisable();
 416:../cyfxslfifosyncmulti.c ****             /* Start the loop back function. */
 417:../cyfxslfifosyncmulti.c ****             CyFxSlFifoApplnStart ();
 418:../cyfxslfifosyncmulti.c ****             break;
 419:../cyfxslfifosyncmulti.c ****         case CY_U3P_USB_EVENT_RESET:
 420:../cyfxslfifosyncmulti.c ****         case CY_U3P_USB_EVENT_DISCONNECT:
 421:../cyfxslfifosyncmulti.c ****             /* Stop the loop back function. */
 422:../cyfxslfifosyncmulti.c ****         	CyU3PDebugPrint (4, "USB EVENT CB DISCONNECT %x\n",evtype);
 423:../cyfxslfifosyncmulti.c ****             if (glIsApplnActive) CyFxSlFifoApplnStop ();
 424:../cyfxslfifosyncmulti.c ****             break;
 425:../cyfxslfifosyncmulti.c ****         default:
 426:../cyfxslfifosyncmulti.c ****             break;
 986              		.loc 1 426 0
 987 0760 130000EA 		b	.L42
 988              	.L45:
 414:../cyfxslfifosyncmulti.c ****             CyU3PUsbLPMDisable();
 989              		.loc 1 414 0
 990 0764 54309FE5 		ldr	r3, .L50+4
 991 0768 003093E5 		ldr	r3, [r3]
 992 076c 000053E3 		cmp	r3, #0
 993 0770 0000000A 		beq	.L46
 414:../cyfxslfifosyncmulti.c ****             CyU3PUsbLPMDisable();
 994              		.loc 1 414 0 is_stmt 0 discriminator 1
 995 0774 FEFFFFEB 		bl	CyFxSlFifoApplnStop
 996              	.L46:
 415:../cyfxslfifosyncmulti.c ****             /* Start the loop back function. */
 997              		.loc 1 415 0 is_stmt 1
 998 0778 FEFFFFEB 		bl	CyU3PUsbLPMDisable
 417:../cyfxslfifosyncmulti.c ****             break;
 999              		.loc 1 417 0
 1000 077c FEFFFFEB 		bl	CyFxSlFifoApplnStart
 418:../cyfxslfifosyncmulti.c ****         case CY_U3P_USB_EVENT_RESET:
 1001              		.loc 1 418 0
 1002 0780 0B0000EA 		b	.L42
 1003              	.L44:
 422:../cyfxslfifosyncmulti.c ****             if (glIsApplnActive) CyFxSlFifoApplnStop ();
 1004              		.loc 1 422 0
 1005 0784 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 1006 0788 0400A0E3 		mov	r0, #4
 1007 078c 30109FE5 		ldr	r1, .L50+8
 1008 0790 0320A0E1 		mov	r2, r3
 1009 0794 FEFFFFEB 		bl	CyU3PDebugPrint
 423:../cyfxslfifosyncmulti.c ****             break;
 1010              		.loc 1 423 0
 1011 0798 20309FE5 		ldr	r3, .L50+4
 1012 079c 003093E5 		ldr	r3, [r3]
 1013 07a0 000053E3 		cmp	r3, #0
 1014 07a4 0100000A 		beq	.L48
 423:../cyfxslfifosyncmulti.c ****             break;
 1015              		.loc 1 423 0 is_stmt 0 discriminator 1
 1016 07a8 FEFFFFEB 		bl	CyFxSlFifoApplnStop
 424:../cyfxslfifosyncmulti.c ****         default:
 1017              		.loc 1 424 0 is_stmt 1 discriminator 1
 1018 07ac FFFFFFEA 		b	.L49
 1019              	.L48:
 1020              	.L49:
 424:../cyfxslfifosyncmulti.c ****         default:
 1021              		.loc 1 424 0 is_stmt 0
 1022 07b0 0000A0E1 		mov	r0, r0	@ nop
 1023              	.L42:
 427:../cyfxslfifosyncmulti.c ****     }
 428:../cyfxslfifosyncmulti.c **** }
 1024              		.loc 1 428 0 is_stmt 1
 1025 07b4 04D04BE2 		sub	sp, fp, #4
 1026              		@ sp needed
 1027 07b8 0088BDE8 		ldmfd	sp!, {fp, pc}
 1028              	.L51:
 1029              		.align	2
 1030              	.L50:
 1031 07bc A4010000 		.word	.LC14
 1032 07c0 00000000 		.word	glIsApplnActive
 1033 07c4 B8010000 		.word	.LC15
 1034              		.cfi_endproc
 1035              	.LFE4:
 1037              		.global	count
 1038              		.bss
 1039 000d 000000   		.align	2
 1042              	count:
 1043 0010 00000000 		.space	4
 1044              		.section	.rodata
 1045              		.align	2
 1046              	.LC16:
 1047 01d4 43595533 		.ascii	"CYU3P_PIB_ERR_THR0_WR_OVERRUN %d\012\000"
 1047      505F5049 
 1047      425F4552 
 1047      525F5448 
 1047      52305F57 
 1048 01f6 0000     		.align	2
 1049              	.LC17:
 1050 01f8 43595533 		.ascii	"CYU3P_PIB_ERR_THR1_WR_OVERRUN %d\012\000"
 1050      505F5049 
 1050      425F4552 
 1050      525F5448 
 1050      52315F57 
 1051 021a 0000     		.align	2
 1052              	.LC18:
 1053 021c 43595533 		.ascii	"CYU3P_PIB_ERR_THR2_WR_OVERRUN\012\000"
 1053      505F5049 
 1053      425F4552 
 1053      525F5448 
 1053      52325F57 
 1054 023b 00       		.align	2
 1055              	.LC19:
 1056 023c 43595533 		.ascii	"CYU3P_PIB_ERR_THR3_WR_OVERRUN\012\000"
 1056      505F5049 
 1056      425F4552 
 1056      525F5448 
 1056      52335F57 
 1057 025b 00       		.align	2
 1058              	.LC20:
 1059 025c 43595533 		.ascii	"CYU3P_PIB_ERR_THR0_RD_UNDERRUN\012\000"
 1059      505F5049 
 1059      425F4552 
 1059      525F5448 
 1059      52305F52 
 1060              		.align	2
 1061              	.LC21:
 1062 027c 43595533 		.ascii	"CYU3P_PIB_ERR_THR1_RD_UNDERRUN\012\000"
 1062      505F5049 
 1062      425F4552 
 1062      525F5448 
 1062      52315F52 
 1063              		.align	2
 1064              	.LC22:
 1065 029c 43595533 		.ascii	"CYU3P_PIB_ERR_THR2_RD_UNDERRUN\012\000"
 1065      505F5049 
 1065      425F4552 
 1065      525F5448 
 1065      52325F52 
 1066              		.align	2
 1067              	.LC23:
 1068 02bc 43595533 		.ascii	"CYU3P_PIB_ERR_THR3_RD_UNDERRUN\012\000"
 1068      505F5049 
 1068      425F4552 
 1068      525F5448 
 1068      52335F52 
 1069              		.align	2
 1070              	.LC24:
 1071 02dc 50494220 		.ascii	"PIB No Error :%d\012  %d\012\000"
 1071      4E6F2045 
 1071      72726F72 
 1071      203A2564 
 1071      0A202025 
 1072              		.text
 1073              		.align	2
 1074              		.global	gpif_error_cb
 1076              	gpif_error_cb:
 1077              	.LFB5:
 429:../cyfxslfifosyncmulti.c **** 
 430:../cyfxslfifosyncmulti.c **** unsigned int count = 0;
 431:../cyfxslfifosyncmulti.c **** void gpif_error_cb(CyU3PPibIntrType cbType, uint16_t cbArg) {
 1078              		.loc 1 431 0
 1079              		.cfi_startproc
 1080              		@ args = 0, pretend = 0, frame = 8
 1081              		@ frame_needed = 1, uses_anonymous_args = 0
 1082 07c8 00482DE9 		stmfd	sp!, {fp, lr}
 1083              	.LCFI10:
 1084              		.cfi_def_cfa_offset 8
 1085              		.cfi_offset 11, -8
 1086              		.cfi_offset 14, -4
 1087 07cc 04B08DE2 		add	fp, sp, #4
 1088              	.LCFI11:
 1089              		.cfi_def_cfa 11, 4
 1090 07d0 08D04DE2 		sub	sp, sp, #8
 1091 07d4 0020A0E1 		mov	r2, r0
 1092 07d8 0130A0E1 		mov	r3, r1
 1093 07dc 05204BE5 		strb	r2, [fp, #-5]
 1094 07e0 B8304BE1 		strh	r3, [fp, #-8]	@ movhi
 432:../cyfxslfifosyncmulti.c **** count++;
 1095              		.loc 1 432 0
 1096 07e4 30319FE5 		ldr	r3, .L65
 1097 07e8 003093E5 		ldr	r3, [r3]
 1098 07ec 012083E2 		add	r2, r3, #1
 1099 07f0 24319FE5 		ldr	r3, .L65
 1100 07f4 002083E5 		str	r2, [r3]
 433:../cyfxslfifosyncmulti.c **** if( count%256 != 0) return;
 1101              		.loc 1 433 0
 1102 07f8 1C319FE5 		ldr	r3, .L65
 1103 07fc 003093E5 		ldr	r3, [r3]
 1104 0800 FF3003E2 		and	r3, r3, #255
 1105 0804 000053E3 		cmp	r3, #0
 1106 0808 0000000A 		beq	.L53
 1107              		.loc 1 433 0 is_stmt 0 discriminator 1
 1108 080c 400000EA 		b	.L52
 1109              	.L53:
 434:../cyfxslfifosyncmulti.c **** 
 435:../cyfxslfifosyncmulti.c **** if(cbType==CYU3P_PIB_INTR_ERROR)
 1110              		.loc 1 435 0 is_stmt 1
 1111 0810 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 1112 0814 040053E3 		cmp	r3, #4
 1113 0818 3D00001A 		bne	.L52
 436:../cyfxslfifosyncmulti.c **** {
 437:../cyfxslfifosyncmulti.c ****     switch (CYU3P_GET_PIB_ERROR_TYPE(cbArg))
 1114              		.loc 1 437 0
 1115 081c B8305BE1 		ldrh	r3, [fp, #-8]	@ movhi
 1116 0820 FF3003E2 		and	r3, r3, #255
 1117 0824 3F3003E2 		and	r3, r3, #63
 1118 0828 053043E2 		sub	r3, r3, #5
 1119 082c 070053E3 		cmp	r3, #7
 1120 0830 03F19F97 		ldrls	pc, [pc, r3, asl #2]
 1121 0834 2D0000EA 		b	.L55
 1122              	.L57:
 1123 0838 58080000 		.word	.L56
 1124 083c 74080000 		.word	.L58
 1125 0840 90080000 		.word	.L59
 1126 0844 A0080000 		.word	.L60
 1127 0848 B0080000 		.word	.L61
 1128 084c C0080000 		.word	.L62
 1129 0850 D0080000 		.word	.L63
 1130 0854 E0080000 		.word	.L64
 1131              	.L56:
 438:../cyfxslfifosyncmulti.c ****     {
 439:../cyfxslfifosyncmulti.c ****         case CYU3P_PIB_ERR_THR0_WR_OVERRUN:
 440:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR0_WR_OVERRUN %d\n",count);
 1132              		.loc 1 440 0
 1133 0858 BC309FE5 		ldr	r3, .L65
 1134 085c 003093E5 		ldr	r3, [r3]
 1135 0860 0400A0E3 		mov	r0, #4
 1136 0864 B4109FE5 		ldr	r1, .L65+4
 1137 0868 0320A0E1 		mov	r2, r3
 1138 086c FEFFFFEB 		bl	CyU3PDebugPrint
 441:../cyfxslfifosyncmulti.c ****         break;
 1139              		.loc 1 441 0
 1140 0870 270000EA 		b	.L52
 1141              	.L58:
 442:../cyfxslfifosyncmulti.c ****         case CYU3P_PIB_ERR_THR1_WR_OVERRUN:
 443:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR1_WR_OVERRUN %d\n",count);
 1142              		.loc 1 443 0
 1143 0874 A0309FE5 		ldr	r3, .L65
 1144 0878 003093E5 		ldr	r3, [r3]
 1145 087c 0400A0E3 		mov	r0, #4
 1146 0880 9C109FE5 		ldr	r1, .L65+8
 1147 0884 0320A0E1 		mov	r2, r3
 1148 0888 FEFFFFEB 		bl	CyU3PDebugPrint
 444:../cyfxslfifosyncmulti.c ****         break;
 1149              		.loc 1 444 0
 1150 088c 200000EA 		b	.L52
 1151              	.L59:
 445:../cyfxslfifosyncmulti.c ****         case CYU3P_PIB_ERR_THR2_WR_OVERRUN:
 446:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR2_WR_OVERRUN\n");
 1152              		.loc 1 446 0
 1153 0890 0400A0E3 		mov	r0, #4
 1154 0894 8C109FE5 		ldr	r1, .L65+12
 1155 0898 FEFFFFEB 		bl	CyU3PDebugPrint
 447:../cyfxslfifosyncmulti.c ****         break;
 1156              		.loc 1 447 0
 1157 089c 1C0000EA 		b	.L52
 1158              	.L60:
 448:../cyfxslfifosyncmulti.c ****         case CYU3P_PIB_ERR_THR3_WR_OVERRUN:
 449:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR3_WR_OVERRUN\n");
 1159              		.loc 1 449 0
 1160 08a0 0400A0E3 		mov	r0, #4
 1161 08a4 80109FE5 		ldr	r1, .L65+16
 1162 08a8 FEFFFFEB 		bl	CyU3PDebugPrint
 450:../cyfxslfifosyncmulti.c ****         break;
 1163              		.loc 1 450 0
 1164 08ac 180000EA 		b	.L52
 1165              	.L61:
 451:../cyfxslfifosyncmulti.c **** 
 452:../cyfxslfifosyncmulti.c ****         case CYU3P_PIB_ERR_THR0_RD_UNDERRUN:
 453:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR0_RD_UNDERRUN\n");
 1166              		.loc 1 453 0
 1167 08b0 0400A0E3 		mov	r0, #4
 1168 08b4 74109FE5 		ldr	r1, .L65+20
 1169 08b8 FEFFFFEB 		bl	CyU3PDebugPrint
 454:../cyfxslfifosyncmulti.c ****         break;
 1170              		.loc 1 454 0
 1171 08bc 140000EA 		b	.L52
 1172              	.L62:
 455:../cyfxslfifosyncmulti.c ****         case CYU3P_PIB_ERR_THR1_RD_UNDERRUN:
 456:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR1_RD_UNDERRUN\n");
 1173              		.loc 1 456 0
 1174 08c0 0400A0E3 		mov	r0, #4
 1175 08c4 68109FE5 		ldr	r1, .L65+24
 1176 08c8 FEFFFFEB 		bl	CyU3PDebugPrint
 457:../cyfxslfifosyncmulti.c ****         break;
 1177              		.loc 1 457 0
 1178 08cc 100000EA 		b	.L52
 1179              	.L63:
 458:../cyfxslfifosyncmulti.c ****         case CYU3P_PIB_ERR_THR2_RD_UNDERRUN:
 459:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR2_RD_UNDERRUN\n");
 1180              		.loc 1 459 0
 1181 08d0 0400A0E3 		mov	r0, #4
 1182 08d4 5C109FE5 		ldr	r1, .L65+28
 1183 08d8 FEFFFFEB 		bl	CyU3PDebugPrint
 460:../cyfxslfifosyncmulti.c ****         break;
 1184              		.loc 1 460 0
 1185 08dc 0C0000EA 		b	.L52
 1186              	.L64:
 461:../cyfxslfifosyncmulti.c ****         case CYU3P_PIB_ERR_THR3_RD_UNDERRUN:
 462:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR3_RD_UNDERRUN\n");
 1187              		.loc 1 462 0
 1188 08e0 0400A0E3 		mov	r0, #4
 1189 08e4 50109FE5 		ldr	r1, .L65+32
 1190 08e8 FEFFFFEB 		bl	CyU3PDebugPrint
 463:../cyfxslfifosyncmulti.c ****         break;
 1191              		.loc 1 463 0
 1192 08ec 080000EA 		b	.L52
 1193              	.L55:
 464:../cyfxslfifosyncmulti.c **** 
 465:../cyfxslfifosyncmulti.c ****         default:
 466:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "PIB No Error :%d\n  %d\n",CYU3P_GET_PIB_ERROR_TYPE(cbArg),count);
 1194              		.loc 1 466 0
 1195 08f0 B8305BE1 		ldrh	r3, [fp, #-8]	@ movhi
 1196 08f4 FF3003E2 		and	r3, r3, #255
 1197 08f8 3F2003E2 		and	r2, r3, #63
 1198 08fc 18309FE5 		ldr	r3, .L65
 1199 0900 003093E5 		ldr	r3, [r3]
 1200 0904 0400A0E3 		mov	r0, #4
 1201 0908 30109FE5 		ldr	r1, .L65+36
 1202 090c FEFFFFEB 		bl	CyU3PDebugPrint
 467:../cyfxslfifosyncmulti.c ****             break;
 1203              		.loc 1 467 0
 1204 0910 0000A0E1 		mov	r0, r0	@ nop
 1205              	.L52:
 468:../cyfxslfifosyncmulti.c ****     }
 469:../cyfxslfifosyncmulti.c **** }
 470:../cyfxslfifosyncmulti.c **** }
 1206              		.loc 1 470 0
 1207 0914 04D04BE2 		sub	sp, fp, #4
 1208              		@ sp needed
 1209 0918 0088BDE8 		ldmfd	sp!, {fp, pc}
 1210              	.L66:
 1211              		.align	2
 1212              	.L65:
 1213 091c 00000000 		.word	count
 1214 0920 D4010000 		.word	.LC16
 1215 0924 F8010000 		.word	.LC17
 1216 0928 1C020000 		.word	.LC18
 1217 092c 3C020000 		.word	.LC19
 1218 0930 5C020000 		.word	.LC20
 1219 0934 7C020000 		.word	.LC21
 1220 0938 9C020000 		.word	.LC22
 1221 093c BC020000 		.word	.LC23
 1222 0940 DC020000 		.word	.LC24
 1223              		.cfi_endproc
 1224              	.LFE5:
 1226              		.section	.rodata
 1227 02f3 00       		.align	2
 1228              	.LC25:
 1229 02f4 4170706C 		.ascii	"ApplicationInit\012\000"
 1229      69636174 
 1229      696F6E49 
 1229      6E69740A 
 1229      00
 1230 0305 000000   		.align	2
 1231              	.LC26:
 1232 0308 502D706F 		.ascii	"P-port Initialization failed, Error Code = %d\012\000"
 1232      72742049 
 1232      6E697469 
 1232      616C697A 
 1232      6174696F 
 1233 0337 00       		.align	2
 1234              	.LC27:
 1235 0338 43795533 		.ascii	"CyU3PGpifLoad failed, Error Code = %d\012\000"
 1235      50477069 
 1235      664C6F61 
 1235      64206661 
 1235      696C6564 
 1236 035f 00       		.align	2
 1237              	.LC28:
 1238 0360 43795533 		.ascii	"CyU3PUsbStart failed to Start, Error code = %d\012\000"
 1238      50557362 
 1238      53746172 
 1238      74206661 
 1238      696C6564 
 1239              		.align	2
 1240              	.LC29:
 1241 0390 55534220 		.ascii	"USB Connect failed, Error code = %d\012\000"
 1241      436F6E6E 
 1241      65637420 
 1241      6661696C 
 1241      65642C20 
 1242              		.text
 1243              		.align	2
 1244              		.global	CyFxSlFifoApplnInit
 1246              	CyFxSlFifoApplnInit:
 1247              	.LFB6:
 471:../cyfxslfifosyncmulti.c **** 
 472:../cyfxslfifosyncmulti.c **** /* This function initializes the GPIF interface and initializes
 473:../cyfxslfifosyncmulti.c ****  * the USB interface. */
 474:../cyfxslfifosyncmulti.c **** void CyFxSlFifoApplnInit (void) {
 1248              		.loc 1 474 0
 1249              		.cfi_startproc
 1250              		@ args = 0, pretend = 0, frame = 24
 1251              		@ frame_needed = 1, uses_anonymous_args = 0
 1252 0944 00482DE9 		stmfd	sp!, {fp, lr}
 1253              	.LCFI12:
 1254              		.cfi_def_cfa_offset 8
 1255              		.cfi_offset 11, -8
 1256              		.cfi_offset 14, -4
 1257 0948 04B08DE2 		add	fp, sp, #4
 1258              	.LCFI13:
 1259              		.cfi_def_cfa 11, 4
 1260 094c 20D04DE2 		sub	sp, sp, #32
 475:../cyfxslfifosyncmulti.c **** 
 476:../cyfxslfifosyncmulti.c ****     CyU3PPibClock_t pibClock;
 477:../cyfxslfifosyncmulti.c **** //    CyU3PGpioClock_t gpioClock;
 478:../cyfxslfifosyncmulti.c **** //    CyU3PGpioSimpleConfig_t gpioConfig;
 479:../cyfxslfifosyncmulti.c ****     CyU3PReturnStatus_t apiRetStatus = CY_U3P_SUCCESS;
 1261              		.loc 1 479 0
 1262 0950 0030A0E3 		mov	r3, #0
 1263 0954 08300BE5 		str	r3, [fp, #-8]
 480:../cyfxslfifosyncmulti.c **** 
 481:../cyfxslfifosyncmulti.c **** 	CyU3PDebugPrint (4, "ApplicationInit\n");
 1264              		.loc 1 481 0
 1265 0958 0400A0E3 		mov	r0, #4
 1266 095c 54119FE5 		ldr	r1, .L72
 1267 0960 FEFFFFEB 		bl	CyU3PDebugPrint
 482:../cyfxslfifosyncmulti.c ****     /* Initialize the p-port block. */
 483:../cyfxslfifosyncmulti.c ****     pibClock.clkDiv = 2;
 1268              		.loc 1 483 0
 1269 0964 0230A0E3 		mov	r3, #2
 1270 0968 B8314BE1 		strh	r3, [fp, #-24]	@ movhi
 484:../cyfxslfifosyncmulti.c ****     pibClock.clkSrc = CY_U3P_SYS_CLK;
 1271              		.loc 1 484 0
 1272 096c 0330A0E3 		mov	r3, #3
 1273 0970 0C304BE5 		strb	r3, [fp, #-12]
 485:../cyfxslfifosyncmulti.c ****     pibClock.isHalfDiv = CyFalse;
 1274              		.loc 1 485 0
 1275 0974 0030A0E3 		mov	r3, #0
 1276 0978 14300BE5 		str	r3, [fp, #-20]
 486:../cyfxslfifosyncmulti.c ****     /* Disable DLL for sync GPIF */
 487:../cyfxslfifosyncmulti.c ****     pibClock.isDllEnable = CyFalse;
 1277              		.loc 1 487 0
 1278 097c 0030A0E3 		mov	r3, #0
 1279 0980 10300BE5 		str	r3, [fp, #-16]
 488:../cyfxslfifosyncmulti.c ****     apiRetStatus = CyU3PPibInit(CyTrue, &pibClock);
 1280              		.loc 1 488 0
 1281 0984 18304BE2 		sub	r3, fp, #24
 1282 0988 0100A0E3 		mov	r0, #1
 1283 098c 0310A0E1 		mov	r1, r3
 1284 0990 FEFFFFEB 		bl	CyU3PPibInit
 1285 0994 08000BE5 		str	r0, [fp, #-8]
 489:../cyfxslfifosyncmulti.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 1286              		.loc 1 489 0
 1287 0998 08301BE5 		ldr	r3, [fp, #-8]
 1288 099c 000053E3 		cmp	r3, #0
 1289 09a0 0500000A 		beq	.L68
 490:../cyfxslfifosyncmulti.c ****     {
 491:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "P-port Initialization failed, Error Code = %d\n",apiRetStatus);
 1290              		.loc 1 491 0
 1291 09a4 0400A0E3 		mov	r0, #4
 1292 09a8 0C119FE5 		ldr	r1, .L72+4
 1293 09ac 08201BE5 		ldr	r2, [fp, #-8]
 1294 09b0 FEFFFFEB 		bl	CyU3PDebugPrint
 492:../cyfxslfifosyncmulti.c ****         CyFxAppErrorHandler(apiRetStatus);
 1295              		.loc 1 492 0
 1296 09b4 08001BE5 		ldr	r0, [fp, #-8]
 1297 09b8 FEFFFFEB 		bl	CyFxAppErrorHandler
 1298              	.L68:
 493:../cyfxslfifosyncmulti.c ****     }
 494:../cyfxslfifosyncmulti.c **** 
 495:../cyfxslfifosyncmulti.c ****     /* Load the GPIF configuration for Slave FIFO sync mode. */
 496:../cyfxslfifosyncmulti.c ****     apiRetStatus = CyU3PGpifLoad (&CyFxGpifConfig);
 1299              		.loc 1 496 0
 1300 09bc FC009FE5 		ldr	r0, .L72+8
 1301 09c0 FEFFFFEB 		bl	CyU3PGpifLoad
 1302 09c4 08000BE5 		str	r0, [fp, #-8]
 497:../cyfxslfifosyncmulti.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 1303              		.loc 1 497 0
 1304 09c8 08301BE5 		ldr	r3, [fp, #-8]
 1305 09cc 000053E3 		cmp	r3, #0
 1306 09d0 0500000A 		beq	.L69
 498:../cyfxslfifosyncmulti.c ****     {
 499:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CyU3PGpifLoad failed, Error Code = %d\n",apiRetStatus);
 1307              		.loc 1 499 0
 1308 09d4 0400A0E3 		mov	r0, #4
 1309 09d8 E4109FE5 		ldr	r1, .L72+12
 1310 09dc 08201BE5 		ldr	r2, [fp, #-8]
 1311 09e0 FEFFFFEB 		bl	CyU3PDebugPrint
 500:../cyfxslfifosyncmulti.c ****         CyFxAppErrorHandler(apiRetStatus);
 1312              		.loc 1 500 0
 1313 09e4 08001BE5 		ldr	r0, [fp, #-8]
 1314 09e8 FEFFFFEB 		bl	CyFxAppErrorHandler
 1315              	.L69:
 501:../cyfxslfifosyncmulti.c ****     }
 502:../cyfxslfifosyncmulti.c **** 
 503:../cyfxslfifosyncmulti.c ****     CyU3PGpifSocketConfigure (0,CY_U3P_PIB_SOCKET_0,6,CyFalse,1);
 1316              		.loc 1 503 0
 1317 09ec 0130A0E3 		mov	r3, #1
 1318 09f0 00308DE5 		str	r3, [sp]
 1319 09f4 0000A0E3 		mov	r0, #0
 1320 09f8 011CA0E3 		mov	r1, #256
 1321 09fc 0620A0E3 		mov	r2, #6
 1322 0a00 0030A0E3 		mov	r3, #0
 1323 0a04 FEFFFFEB 		bl	CyU3PGpifSocketConfigure
 504:../cyfxslfifosyncmulti.c **** 	CyU3PGpifSocketConfigure (1,CY_U3P_PIB_SOCKET_1,6,CyFalse,1);
 1324              		.loc 1 504 0
 1325 0a08 0130A0E3 		mov	r3, #1
 1326 0a0c 00308DE5 		str	r3, [sp]
 1327 0a10 0100A0E3 		mov	r0, #1
 1328 0a14 AC109FE5 		ldr	r1, .L72+16
 1329 0a18 0620A0E3 		mov	r2, #6
 1330 0a1c 0030A0E3 		mov	r3, #0
 1331 0a20 FEFFFFEB 		bl	CyU3PGpifSocketConfigure
 505:../cyfxslfifosyncmulti.c **** 
 506:../cyfxslfifosyncmulti.c **** //   CyU3PGpifSocketConfigure (3,CY_U3P_PIB_SOCKET_3,6,CyFalse,1);
 507:../cyfxslfifosyncmulti.c **** 
 508:../cyfxslfifosyncmulti.c ****     /* Start the state machine. */
 509:../cyfxslfifosyncmulti.c **** //    apiRetStatus = CyU3PGpifSMStart (RESET,ALPHA_RESET);
 510:../cyfxslfifosyncmulti.c **** //    if (apiRetStatus != CY_U3P_SUCCESS)
 511:../cyfxslfifosyncmulti.c **** //    {
 512:../cyfxslfifosyncmulti.c **** //        CyU3PDebugPrint (4, "CyU3PGpifSMStart failed, Error Code = %d\n",apiRetStatus);
 513:../cyfxslfifosyncmulti.c **** //        CyFxAppErrorHandler(apiRetStatus);
 514:../cyfxslfifosyncmulti.c **** //    }
 515:../cyfxslfifosyncmulti.c **** 
 516:../cyfxslfifosyncmulti.c ****     /* Init the GPIO module */
 517:../cyfxslfifosyncmulti.c **** //	gpioClock.fastClkDiv = 2;
 518:../cyfxslfifosyncmulti.c **** //	gpioClock.slowClkDiv = 0;
 519:../cyfxslfifosyncmulti.c **** //	gpioClock.simpleDiv = CY_U3P_GPIO_SIMPLE_DIV_BY_2;
 520:../cyfxslfifosyncmulti.c **** //	gpioClock.clkSrc = CY_U3P_SYS_CLK;
 521:../cyfxslfifosyncmulti.c **** //	gpioClock.halfDiv = 0;
 522:../cyfxslfifosyncmulti.c **** //
 523:../cyfxslfifosyncmulti.c **** //	apiRetStatus = CyU3PGpioInit(&gpioClock, NULL);
 524:../cyfxslfifosyncmulti.c **** //	if (apiRetStatus != 0)
 525:../cyfxslfifosyncmulti.c **** //	{
 526:../cyfxslfifosyncmulti.c **** //		/* Error Handling */
 527:../cyfxslfifosyncmulti.c **** //		CyU3PDebugPrint (4, "CyU3PGpioInit failed, error code = %d\n", apiRetStatus);
 528:../cyfxslfifosyncmulti.c **** //		CyFxAppErrorHandler(apiRetStatus);
 529:../cyfxslfifosyncmulti.c **** //	}
 530:../cyfxslfifosyncmulti.c **** //
 531:../cyfxslfifosyncmulti.c **** //    /* Configure GPIO 59 as output */
 532:../cyfxslfifosyncmulti.c **** //       gpioConfig.outValue = CyTrue;
 533:../cyfxslfifosyncmulti.c **** //       gpioConfig.driveLowEn = CyTrue;
 534:../cyfxslfifosyncmulti.c **** //       gpioConfig.driveHighEn = CyTrue;
 535:../cyfxslfifosyncmulti.c **** //       gpioConfig.inputEn = CyFalse;
 536:../cyfxslfifosyncmulti.c **** //       gpioConfig.intrMode = CY_U3P_GPIO_NO_INTR;
 537:../cyfxslfifosyncmulti.c **** //       apiRetStatus = CyU3PGpioSetSimpleConfig(59, &gpioConfig);
 538:../cyfxslfifosyncmulti.c **** //       if (apiRetStatus != CY_U3P_SUCCESS)
 539:../cyfxslfifosyncmulti.c **** //       {
 540:../cyfxslfifosyncmulti.c **** //           /* Error handling */
 541:../cyfxslfifosyncmulti.c **** //           CyU3PDebugPrint (4, "CyU3PGpioSetSimpleConfig failed, error code = %d\n",
 542:../cyfxslfifosyncmulti.c **** //                   apiRetStatus);
 543:../cyfxslfifosyncmulti.c **** //           CyFxAppErrorHandler(apiRetStatus);
 544:../cyfxslfifosyncmulti.c **** //       }
 545:../cyfxslfifosyncmulti.c **** 
 546:../cyfxslfifosyncmulti.c ****     /* Start the USB functionality. */
 547:../cyfxslfifosyncmulti.c ****     apiRetStatus = CyU3PUsbStart();
 1332              		.loc 1 547 0
 1333 0a24 FEFFFFEB 		bl	CyU3PUsbStart
 1334 0a28 08000BE5 		str	r0, [fp, #-8]
 548:../cyfxslfifosyncmulti.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 1335              		.loc 1 548 0
 1336 0a2c 08301BE5 		ldr	r3, [fp, #-8]
 1337 0a30 000053E3 		cmp	r3, #0
 1338 0a34 0500000A 		beq	.L70
 549:../cyfxslfifosyncmulti.c ****     {
 550:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "CyU3PUsbStart failed to Start, Error code = %d\n", apiRetStatus);
 1339              		.loc 1 550 0
 1340 0a38 0400A0E3 		mov	r0, #4
 1341 0a3c 88109FE5 		ldr	r1, .L72+20
 1342 0a40 08201BE5 		ldr	r2, [fp, #-8]
 1343 0a44 FEFFFFEB 		bl	CyU3PDebugPrint
 551:../cyfxslfifosyncmulti.c ****         CyFxAppErrorHandler(apiRetStatus);
 1344              		.loc 1 551 0
 1345 0a48 08001BE5 		ldr	r0, [fp, #-8]
 1346 0a4c FEFFFFEB 		bl	CyFxAppErrorHandler
 1347              	.L70:
 552:../cyfxslfifosyncmulti.c ****     }
 553:../cyfxslfifosyncmulti.c ****     /* callback to see if there is any overflow of data on the GPIF II side*/
 554:../cyfxslfifosyncmulti.c ****     CyU3PPibRegisterCallback(gpif_error_cb,0xffff);
 1348              		.loc 1 554 0
 1349 0a50 78009FE5 		ldr	r0, .L72+24
 1350 0a54 78109FE5 		ldr	r1, .L72+28
 1351 0a58 FEFFFFEB 		bl	CyU3PPibRegisterCallback
 555:../cyfxslfifosyncmulti.c **** 
 556:../cyfxslfifosyncmulti.c ****     /* The fast enumeration is the easiest way to setup a USB connection,
 557:../cyfxslfifosyncmulti.c ****      * where all enumeration phase is handled by the library. Only the
 558:../cyfxslfifosyncmulti.c ****      * class / vendor requests need to be handled by the application. */
 559:../cyfxslfifosyncmulti.c ****     CyU3PUsbRegisterSetupCallback(CyFxSlFifoApplnUSBSetupCB, CyTrue);
 1352              		.loc 1 559 0
 1353 0a5c 74009FE5 		ldr	r0, .L72+32
 1354 0a60 0110A0E3 		mov	r1, #1
 1355 0a64 FEFFFFEB 		bl	CyU3PUsbRegisterSetupCallback
 560:../cyfxslfifosyncmulti.c **** 
 561:../cyfxslfifosyncmulti.c ****     /* Setup the callback to handle the USB events. */
 562:../cyfxslfifosyncmulti.c ****     CyU3PUsbRegisterEventCallback(CyFxSlFifoApplnUSBEventCB);
 1356              		.loc 1 562 0
 1357 0a68 6C009FE5 		ldr	r0, .L72+36
 1358 0a6c FEFFFFEB 		bl	CyU3PUsbRegisterEventCallback
 563:../cyfxslfifosyncmulti.c **** 
 564:../cyfxslfifosyncmulti.c ****     /* Register a callback to handle LPM requests from the USB 3.0 host. */
 565:../cyfxslfifosyncmulti.c ****     CyU3PUsbRegisterLPMRequestCallback(CyFxApplnLPMRqtCB);    
 1359              		.loc 1 565 0
 1360 0a70 68009FE5 		ldr	r0, .L72+40
 1361 0a74 FEFFFFEB 		bl	CyU3PUsbRegisterLPMRequestCallback
 566:../cyfxslfifosyncmulti.c **** 
 567:../cyfxslfifosyncmulti.c ****     setDescriptors();
 1362              		.loc 1 567 0
 1363 0a78 FEFFFFEB 		bl	setDescriptors
 568:../cyfxslfifosyncmulti.c **** 
 569:../cyfxslfifosyncmulti.c ****     /* Connect the USB Pins with super speed operation enabled. */
 570:../cyfxslfifosyncmulti.c ****     apiRetStatus = CyU3PConnectState(CyTrue, CyTrue);
 1364              		.loc 1 570 0
 1365 0a7c 0100A0E3 		mov	r0, #1
 1366 0a80 0110A0E3 		mov	r1, #1
 1367 0a84 FEFFFFEB 		bl	CyU3PConnectState
 1368 0a88 08000BE5 		str	r0, [fp, #-8]
 571:../cyfxslfifosyncmulti.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 1369              		.loc 1 571 0
 1370 0a8c 08301BE5 		ldr	r3, [fp, #-8]
 1371 0a90 000053E3 		cmp	r3, #0
 1372 0a94 0500000A 		beq	.L67
 572:../cyfxslfifosyncmulti.c ****     {
 573:../cyfxslfifosyncmulti.c ****         CyU3PDebugPrint (4, "USB Connect failed, Error code = %d\n", apiRetStatus);
 1373              		.loc 1 573 0
 1374 0a98 0400A0E3 		mov	r0, #4
 1375 0a9c 40109FE5 		ldr	r1, .L72+44
 1376 0aa0 08201BE5 		ldr	r2, [fp, #-8]
 1377 0aa4 FEFFFFEB 		bl	CyU3PDebugPrint
 574:../cyfxslfifosyncmulti.c ****         CyFxAppErrorHandler(apiRetStatus);
 1378              		.loc 1 574 0
 1379 0aa8 08001BE5 		ldr	r0, [fp, #-8]
 1380 0aac FEFFFFEB 		bl	CyFxAppErrorHandler
 1381              	.L67:
 575:../cyfxslfifosyncmulti.c ****     }
 576:../cyfxslfifosyncmulti.c **** }
 1382              		.loc 1 576 0
 1383 0ab0 04D04BE2 		sub	sp, fp, #4
 1384              		@ sp needed
 1385 0ab4 0088BDE8 		ldmfd	sp!, {fp, pc}
 1386              	.L73:
 1387              		.align	2
 1388              	.L72:
 1389 0ab8 F4020000 		.word	.LC25
 1390 0abc 08030000 		.word	.LC26
 1391 0ac0 00000000 		.word	CyFxGpifConfig
 1392 0ac4 38030000 		.word	.LC27
 1393 0ac8 01010000 		.word	257
 1394 0acc 60030000 		.word	.LC28
 1395 0ad0 00000000 		.word	gpif_error_cb
 1396 0ad4 FFFF0000 		.word	65535
 1397 0ad8 00000000 		.word	CyFxSlFifoApplnUSBSetupCB
 1398 0adc 00000000 		.word	CyFxSlFifoApplnUSBEventCB
 1399 0ae0 00000000 		.word	CyFxApplnLPMRqtCB
 1400 0ae4 90030000 		.word	.LC29
 1401              		.cfi_endproc
 1402              	.LFE6:
 1404              		.global	calls
 1405              		.data
 1406              		.align	2
 1409              	calls:
 1410 0184 01000000 		.word	1
 1411              		.section	.rodata
 1412 03b5 000000   		.align	2
 1413              	.LC30:
 1414 03b8 54687265 		.ascii	"ThreadEntry start loop\012\000"
 1414      6164456E 
 1414      74727920 
 1414      73746172 
 1414      74206C6F 
 1415              		.text
 1416              		.align	2
 1417              		.global	SlFifoAppThread_Entry
 1419              	SlFifoAppThread_Entry:
 1420              	.LFB7:
 577:../cyfxslfifosyncmulti.c **** 
 578:../cyfxslfifosyncmulti.c **** /* Entry function for the slFifoAppThread. */
 579:../cyfxslfifosyncmulti.c **** unsigned long calls = 1;
 580:../cyfxslfifosyncmulti.c **** 
 581:../cyfxslfifosyncmulti.c **** void SlFifoAppThread_Entry ( uint32_t input)
 582:../cyfxslfifosyncmulti.c **** {
 1421              		.loc 1 582 0
 1422              		.cfi_startproc
 1423              		@ args = 0, pretend = 0, frame = 24
 1424              		@ frame_needed = 1, uses_anonymous_args = 0
 1425 0ae8 00482DE9 		stmfd	sp!, {fp, lr}
 1426              	.LCFI14:
 1427              		.cfi_def_cfa_offset 8
 1428              		.cfi_offset 11, -8
 1429              		.cfi_offset 14, -4
 1430 0aec 04B08DE2 		add	fp, sp, #4
 1431              	.LCFI15:
 1432              		.cfi_def_cfa 11, 4
 1433 0af0 18D04DE2 		sub	sp, sp, #24
 1434 0af4 18000BE5 		str	r0, [fp, #-24]
 583:../cyfxslfifosyncmulti.c ****     CyU3PDmaBuffer_t    buffer_p;
 584:../cyfxslfifosyncmulti.c ****     CyU3PReturnStatus_t apiRetStatus;
 585:../cyfxslfifosyncmulti.c **** 
 586:../cyfxslfifosyncmulti.c ****     /* Initialize the slave FIFO application */
 587:../cyfxslfifosyncmulti.c ****     CyFxSlFifoApplnInit();
 1435              		.loc 1 587 0
 1436 0af8 FEFFFFEB 		bl	CyFxSlFifoApplnInit
 588:../cyfxslfifosyncmulti.c **** 	CyU3PDebugPrint (4, "ThreadEntry start loop\n");
 1437              		.loc 1 588 0
 1438 0afc 0400A0E3 		mov	r0, #4
 1439 0b00 1C109FE5 		ldr	r1, .L76
 1440 0b04 FEFFFFEB 		bl	CyU3PDebugPrint
 1441              	.L75:
 589:../cyfxslfifosyncmulti.c **** 
 590:../cyfxslfifosyncmulti.c ****     for (;;) {
 591:../cyfxslfifosyncmulti.c ****     	//        if (glIsApplnActive)
 592:../cyfxslfifosyncmulti.c ****         if (CyFalse)
 593:../cyfxslfifosyncmulti.c ****         {
 594:../cyfxslfifosyncmulti.c ****             /* Print the number of buffers received so far from the USB host.
 595:../cyfxslfifosyncmulti.c ****             CyU3PDebugPrint (6, "Data tracker: buffers received: %d, buffers sent: %d.\n",
 596:../cyfxslfifosyncmulti.c ****                     glDMARxCount, glDMATxCount);*/
 597:../cyfxslfifosyncmulti.c **** 
 598:../cyfxslfifosyncmulti.c ****         	apiRetStatus = CyU3PDmaMultiChannelGetBuffer (&glMultiChHandleSlFifoPtoU, &buffer_p, CYU3P
 599:../cyfxslfifosyncmulti.c ****             if (apiRetStatus == CY_U3P_SUCCESS)
 600:../cyfxslfifosyncmulti.c ****             {
 601:../cyfxslfifosyncmulti.c ****             	if (calls%4096 == 0)
 602:../cyfxslfifosyncmulti.c ****                     CyU3PDebugPrint (4, "DMACallback, buffer %u count %u size %u status %u\n",
 603:../cyfxslfifosyncmulti.c ****                     		buffer_p.buffer,buffer_p.count,buffer_p.size,buffer_p.status);
 604:../cyfxslfifosyncmulti.c ****                 CyU3PDebugPrint (4, "DMACallback, buffer %u count %u size %u status %u\n",
 605:../cyfxslfifosyncmulti.c ****                 		buffer_p.buffer,buffer_p.count,buffer_p.size,buffer_p.status);
 606:../cyfxslfifosyncmulti.c **** 			apiRetStatus = CyU3PDmaMultiChannelCommitBuffer (&glMultiChHandleSlFifoPtoU,
 607:../cyfxslfifosyncmulti.c **** 					buffer_p.count, 0);
 608:../cyfxslfifosyncmulti.c ****             }
 609:../cyfxslfifosyncmulti.c ****         }
 610:../cyfxslfifosyncmulti.c ****         calls++;
 1442              		.loc 1 610 0
 1443 0b08 18309FE5 		ldr	r3, .L76+4
 1444 0b0c 003093E5 		ldr	r3, [r3]
 1445 0b10 012083E2 		add	r2, r3, #1
 1446 0b14 0C309FE5 		ldr	r3, .L76+4
 1447 0b18 002083E5 		str	r2, [r3]
 611:../cyfxslfifosyncmulti.c ****         /* Allow other ready threads to run. */
 612:../cyfxslfifosyncmulti.c ****         CyU3PThreadRelinquish ();
 1448              		.loc 1 612 0
 1449 0b1c FEFFFFEB 		bl	_txe_thread_relinquish
 613:../cyfxslfifosyncmulti.c **** 
 614:../cyfxslfifosyncmulti.c ****     }
 1450              		.loc 1 614 0
 1451 0b20 F8FFFFEA 		b	.L75
 1452              	.L77:
 1453              		.align	2
 1454              	.L76:
 1455 0b24 B8030000 		.word	.LC30
 1456 0b28 00000000 		.word	calls
 1457              		.cfi_endproc
 1458              	.LFE7:
 1460              		.section	.rodata
 1461              		.align	2
 1462              	.LC31:
 1463 03d0 4170706C 		.ascii	"ApplicationDefine\012\000"
 1463      69636174 
 1463      696F6E44 
 1463      6566696E 
 1463      650A00
 1464 03e3 00       		.align	2
 1465              	.LC32:
 1466 03e4 32313A53 		.ascii	"21:Slave_FIFO_sync\000"
 1466      6C617665 
 1466      5F464946 
 1466      4F5F7379 
 1466      6E6300
 1467              		.text
 1468              		.align	2
 1469              		.global	CyFxApplicationDefine
 1471              	CyFxApplicationDefine:
 1472              	.LFB8:
 615:../cyfxslfifosyncmulti.c **** }
 616:../cyfxslfifosyncmulti.c **** 
 617:../cyfxslfifosyncmulti.c **** /* Application define function which creates the threads. */
 618:../cyfxslfifosyncmulti.c **** void CyFxApplicationDefine (void) {
 1473              		.loc 1 618 0
 1474              		.cfi_startproc
 1475              		@ args = 0, pretend = 0, frame = 8
 1476              		@ frame_needed = 1, uses_anonymous_args = 0
 1477 0b2c 00482DE9 		stmfd	sp!, {fp, lr}
 1478              	.LCFI16:
 1479              		.cfi_def_cfa_offset 8
 1480              		.cfi_offset 11, -8
 1481              		.cfi_offset 14, -4
 1482 0b30 04B08DE2 		add	fp, sp, #4
 1483              	.LCFI17:
 1484              		.cfi_def_cfa 11, 4
 1485 0b34 28D04DE2 		sub	sp, sp, #40
 619:../cyfxslfifosyncmulti.c **** 
 620:../cyfxslfifosyncmulti.c **** 	/* Initialize the debug module */
 621:../cyfxslfifosyncmulti.c ****     CyFxSlFifoApplnDebugInit();
 1486              		.loc 1 621 0
 1487 0b38 FEFFFFEB 		bl	CyFxSlFifoApplnDebugInit
 622:../cyfxslfifosyncmulti.c **** 
 623:../cyfxslfifosyncmulti.c **** 	CyU3PDebugPrint (4, "ApplicationDefine\n");
 1488              		.loc 1 623 0
 1489 0b3c 0400A0E3 		mov	r0, #4
 1490 0b40 84109FE5 		ldr	r1, .L81
 1491 0b44 FEFFFFEB 		bl	CyU3PDebugPrint
 624:../cyfxslfifosyncmulti.c **** 
 625:../cyfxslfifosyncmulti.c **** 
 626:../cyfxslfifosyncmulti.c ****     void *ptr = NULL;
 1492              		.loc 1 626 0
 1493 0b48 0030A0E3 		mov	r3, #0
 1494 0b4c 08300BE5 		str	r3, [fp, #-8]
 627:../cyfxslfifosyncmulti.c ****     uint32_t retThrdCreate = CY_U3P_SUCCESS;
 1495              		.loc 1 627 0
 1496 0b50 0030A0E3 		mov	r3, #0
 1497 0b54 0C300BE5 		str	r3, [fp, #-12]
 628:../cyfxslfifosyncmulti.c **** 
 629:../cyfxslfifosyncmulti.c ****     /* Allocate the memory for the thread */
 630:../cyfxslfifosyncmulti.c ****     ptr = CyU3PMemAlloc (CY_FX_SLFIFO_THREAD_STACK);
 1498              		.loc 1 630 0
 1499 0b58 010BA0E3 		mov	r0, #1024
 1500 0b5c FEFFFFEB 		bl	CyU3PMemAlloc
 1501 0b60 08000BE5 		str	r0, [fp, #-8]
 631:../cyfxslfifosyncmulti.c **** 
 632:../cyfxslfifosyncmulti.c ****     /* Create the thread for the application */
 633:../cyfxslfifosyncmulti.c ****   retThrdCreate = CyU3PThreadCreate (&slFifoAppThread,           /* Slave FIFO app thread structure
 1502              		.loc 1 633 0
 1503 0b64 08301BE5 		ldr	r3, [fp, #-8]
 1504 0b68 00308DE5 		str	r3, [sp]
 1505 0b6c 013BA0E3 		mov	r3, #1024
 1506 0b70 04308DE5 		str	r3, [sp, #4]
 1507 0b74 0830A0E3 		mov	r3, #8
 1508 0b78 08308DE5 		str	r3, [sp, #8]
 1509 0b7c 0830A0E3 		mov	r3, #8
 1510 0b80 0C308DE5 		str	r3, [sp, #12]
 1511 0b84 0030A0E3 		mov	r3, #0
 1512 0b88 10308DE5 		str	r3, [sp, #16]
 1513 0b8c 0130A0E3 		mov	r3, #1
 1514 0b90 14308DE5 		str	r3, [sp, #20]
 1515 0b94 A830A0E3 		mov	r3, #168
 1516 0b98 18308DE5 		str	r3, [sp, #24]
 1517 0b9c 2C009FE5 		ldr	r0, .L81+4
 1518 0ba0 2C109FE5 		ldr	r1, .L81+8
 1519 0ba4 2C209FE5 		ldr	r2, .L81+12
 1520 0ba8 0030A0E3 		mov	r3, #0
 1521 0bac FEFFFFEB 		bl	_txe_thread_create
 1522 0bb0 0C000BE5 		str	r0, [fp, #-12]
 634:../cyfxslfifosyncmulti.c ****                              "21:Slave_FIFO_sync",                    /* Thread ID and thread name 
 635:../cyfxslfifosyncmulti.c ****                           SlFifoAppThread_Entry,                   /* Slave FIFO app thread entry f
 636:../cyfxslfifosyncmulti.c ****                           0,                                       /* No input parameter to thread 
 637:../cyfxslfifosyncmulti.c ****                               ptr,                                     /* Pointer to the allocated 
 638:../cyfxslfifosyncmulti.c ****                           CY_FX_SLFIFO_THREAD_STACK,               /* App Thread stack size */
 639:../cyfxslfifosyncmulti.c ****                           CY_FX_SLFIFO_THREAD_PRIORITY,            /* App Thread priority */
 640:../cyfxslfifosyncmulti.c ****                           CY_FX_SLFIFO_THREAD_PRIORITY,            /* App Thread pre-emption thresh
 641:../cyfxslfifosyncmulti.c ****                           CYU3P_NO_TIME_SLICE,                     /* No time slice for the applica
 642:../cyfxslfifosyncmulti.c ****                           CYU3P_AUTO_START                         /* Start the thread immediately 
 643:../cyfxslfifosyncmulti.c ****                           );
 644:../cyfxslfifosyncmulti.c **** 
 645:../cyfxslfifosyncmulti.c ****     /* Check the return code */
 646:../cyfxslfifosyncmulti.c ****     if (retThrdCreate != 0) {
 1523              		.loc 1 646 0
 1524 0bb4 0C301BE5 		ldr	r3, [fp, #-12]
 1525 0bb8 000053E3 		cmp	r3, #0
 1526 0bbc 0000000A 		beq	.L78
 1527              	.L80:
 647:../cyfxslfifosyncmulti.c **** //    if (CyTrue) {
 648:../cyfxslfifosyncmulti.c ****         /* Thread Creation failed with the error code retThrdCreate */
 649:../cyfxslfifosyncmulti.c ****         /* Add custom recovery or debug actions here */
 650:../cyfxslfifosyncmulti.c ****         /* Application cannot continue */
 651:../cyfxslfifosyncmulti.c ****         while(1);
 1528              		.loc 1 651 0 discriminator 1
 1529 0bc0 FEFFFFEA 		b	.L80
 1530              	.L78:
 652:../cyfxslfifosyncmulti.c ****     }
 653:../cyfxslfifosyncmulti.c **** }
 1531              		.loc 1 653 0
 1532 0bc4 04D04BE2 		sub	sp, fp, #4
 1533              		@ sp needed
 1534 0bc8 0088BDE8 		ldmfd	sp!, {fp, pc}
 1535              	.L82:
 1536              		.align	2
 1537              	.L81:
 1538 0bcc D0030000 		.word	.LC31
 1539 0bd0 00000000 		.word	slFifoAppThread
 1540 0bd4 E4030000 		.word	.LC32
 1541 0bd8 00000000 		.word	SlFifoAppThread_Entry
 1542              		.cfi_endproc
 1543              	.LFE8:
 1545              		.section	.rodata
 1546 03f7 00       		.align	2
 1547              	.LC33:
 1548 03f8 4D61696E 		.ascii	"Main\012\000"
 1548      0A00
 1549 03fe 0000     		.text
 1550              		.align	2
 1551              		.global	main
 1553              	main:
 1554              	.LFB9:
 654:../cyfxslfifosyncmulti.c **** 
 655:../cyfxslfifosyncmulti.c **** /* Main function */
 656:../cyfxslfifosyncmulti.c **** int main (void) {
 1555              		.loc 1 656 0
 1556              		.cfi_startproc
 1557              		@ args = 0, pretend = 0, frame = 64
 1558              		@ frame_needed = 1, uses_anonymous_args = 0
 1559 0bdc 00482DE9 		stmfd	sp!, {fp, lr}
 1560              	.LCFI18:
 1561              		.cfi_def_cfa_offset 8
 1562              		.cfi_offset 11, -8
 1563              		.cfi_offset 14, -4
 1564 0be0 04B08DE2 		add	fp, sp, #4
 1565              	.LCFI19:
 1566              		.cfi_def_cfa 11, 4
 1567 0be4 40D04DE2 		sub	sp, sp, #64
 657:../cyfxslfifosyncmulti.c ****     CyU3PIoMatrixConfig_t io_cfg;
 658:../cyfxslfifosyncmulti.c ****     CyU3PReturnStatus_t status = CY_U3P_SUCCESS;
 1568              		.loc 1 658 0
 1569 0be8 0030A0E3 		mov	r3, #0
 1570 0bec 08300BE5 		str	r3, [fp, #-8]
 659:../cyfxslfifosyncmulti.c ****     CyU3PSysClockConfig_t clkCfg;
 660:../cyfxslfifosyncmulti.c **** 
 661:../cyfxslfifosyncmulti.c ****     CyU3PDebugPrint (4, "Main\n");
 1571              		.loc 1 661 0
 1572 0bf0 0400A0E3 		mov	r0, #4
 1573 0bf4 00119FE5 		ldr	r1, .L90
 1574 0bf8 FEFFFFEB 		bl	CyU3PDebugPrint
 662:../cyfxslfifosyncmulti.c **** 
 663:../cyfxslfifosyncmulti.c ****         /* setSysClk400 clock configurations */
 664:../cyfxslfifosyncmulti.c ****         clkCfg.setSysClk400 = CyTrue;   /* FX3 device's master clock is set to a frequency > 400 MH
 1575              		.loc 1 664 0
 1576 0bfc 0130A0E3 		mov	r3, #1
 1577 0c00 40300BE5 		str	r3, [fp, #-64]
 665:../cyfxslfifosyncmulti.c ****         clkCfg.cpuClkDiv = 2;           /* CPU clock divider */
 1578              		.loc 1 665 0
 1579 0c04 0230A0E3 		mov	r3, #2
 1580 0c08 3C304BE5 		strb	r3, [fp, #-60]
 666:../cyfxslfifosyncmulti.c ****         clkCfg.dmaClkDiv = 2;           /* DMA clock divider */
 1581              		.loc 1 666 0
 1582 0c0c 0230A0E3 		mov	r3, #2
 1583 0c10 3B304BE5 		strb	r3, [fp, #-59]
 667:../cyfxslfifosyncmulti.c ****         clkCfg.mmioClkDiv = 2;          /* MMIO clock divider */
 1584              		.loc 1 667 0
 1585 0c14 0230A0E3 		mov	r3, #2
 1586 0c18 3A304BE5 		strb	r3, [fp, #-58]
 668:../cyfxslfifosyncmulti.c ****         clkCfg.useStandbyClk = CyFalse; /* device has no 32KHz clock supplied */
 1587              		.loc 1 668 0
 1588 0c1c 0030A0E3 		mov	r3, #0
 1589 0c20 38300BE5 		str	r3, [fp, #-56]
 669:../cyfxslfifosyncmulti.c ****         clkCfg.clkSrc = CY_U3P_SYS_CLK; /* Clock source for a peripheral block  */
 1590              		.loc 1 669 0
 1591 0c24 0330A0E3 		mov	r3, #3
 1592 0c28 34304BE5 		strb	r3, [fp, #-52]
 670:../cyfxslfifosyncmulti.c **** 
 671:../cyfxslfifosyncmulti.c ****     /* Initialize the device */
 672:../cyfxslfifosyncmulti.c ****     status = CyU3PDeviceInit (&clkCfg);
 1593              		.loc 1 672 0
 1594 0c2c 40304BE2 		sub	r3, fp, #64
 1595 0c30 0300A0E1 		mov	r0, r3
 1596 0c34 FEFFFFEB 		bl	CyU3PDeviceInit
 1597 0c38 08000BE5 		str	r0, [fp, #-8]
 673:../cyfxslfifosyncmulti.c ****     if (status != CY_U3P_SUCCESS)  goto handle_fatal_error;
 1598              		.loc 1 673 0
 1599 0c3c 08301BE5 		ldr	r3, [fp, #-8]
 1600 0c40 000053E3 		cmp	r3, #0
 1601 0c44 0000000A 		beq	.L84
 1602              		.loc 1 673 0 is_stmt 0 discriminator 1
 1603 0c48 270000EA 		b	.L85
 1604              	.L84:
 674:../cyfxslfifosyncmulti.c **** 
 675:../cyfxslfifosyncmulti.c ****     /* Initialize the caches. Enable instruction cache and keep data cache disabled. */
 676:../cyfxslfifosyncmulti.c ****     status = CyU3PDeviceCacheControl (CyTrue, CyFalse, CyFalse);
 1605              		.loc 1 676 0 is_stmt 1
 1606 0c4c 0100A0E3 		mov	r0, #1
 1607 0c50 0010A0E3 		mov	r1, #0
 1608 0c54 0020A0E3 		mov	r2, #0
 1609 0c58 FEFFFFEB 		bl	CyU3PDeviceCacheControl
 1610 0c5c 08000BE5 		str	r0, [fp, #-8]
 677:../cyfxslfifosyncmulti.c ****     if (status != CY_U3P_SUCCESS)  goto handle_fatal_error;
 1611              		.loc 1 677 0
 1612 0c60 08301BE5 		ldr	r3, [fp, #-8]
 1613 0c64 000053E3 		cmp	r3, #0
 1614 0c68 0000000A 		beq	.L86
 1615              		.loc 1 677 0 is_stmt 0 discriminator 1
 1616 0c6c 1E0000EA 		b	.L85
 1617              	.L86:
 678:../cyfxslfifosyncmulti.c **** 
 679:../cyfxslfifosyncmulti.c ****     /* Configure the IO matrix for the device. On the FX3 DVK board, the COM port 
 680:../cyfxslfifosyncmulti.c ****      * is connected to the IO(53:56). This means that either DQ32 mode should be
 681:../cyfxslfifosyncmulti.c ****      * selected or lppMode should be set to UART_ONLY. Here we are choosing
 682:../cyfxslfifosyncmulti.c ****      * UART_ONLY configuration for 16 bit slave FIFO configuration and setting
 683:../cyfxslfifosyncmulti.c ****      * isDQ32Bit for 32-bit slave FIFO configuration. */
 684:../cyfxslfifosyncmulti.c ****     io_cfg.useUart   = CyTrue;
 1618              		.loc 1 684 0 is_stmt 1
 1619 0c70 0130A0E3 		mov	r3, #1
 1620 0c74 2C300BE5 		str	r3, [fp, #-44]
 685:../cyfxslfifosyncmulti.c ****     io_cfg.useI2C    = CyFalse;
 1621              		.loc 1 685 0
 1622 0c78 0030A0E3 		mov	r3, #0
 1623 0c7c 28300BE5 		str	r3, [fp, #-40]
 686:../cyfxslfifosyncmulti.c ****     io_cfg.useI2S    = CyFalse;
 1624              		.loc 1 686 0
 1625 0c80 0030A0E3 		mov	r3, #0
 1626 0c84 24300BE5 		str	r3, [fp, #-36]
 687:../cyfxslfifosyncmulti.c ****     io_cfg.useSpi    = CyFalse;
 1627              		.loc 1 687 0
 1628 0c88 0030A0E3 		mov	r3, #0
 1629 0c8c 20300BE5 		str	r3, [fp, #-32]
 688:../cyfxslfifosyncmulti.c **** #if (CY_FX_SLFIFO_GPIF_16_32BIT_CONF_SELECT == 0)
 689:../cyfxslfifosyncmulti.c ****     io_cfg.isDQ32Bit = CyFalse;
 1630              		.loc 1 689 0
 1631 0c90 0030A0E3 		mov	r3, #0
 1632 0c94 30300BE5 		str	r3, [fp, #-48]
 690:../cyfxslfifosyncmulti.c ****     io_cfg.lppMode   = CY_U3P_IO_MATRIX_LPP_UART_ONLY;
 1633              		.loc 1 690 0
 1634 0c98 0130A0E3 		mov	r3, #1
 1635 0c9c 1A304BE5 		strb	r3, [fp, #-26]
 691:../cyfxslfifosyncmulti.c **** #else
 692:../cyfxslfifosyncmulti.c ****     io_cfg.isDQ32Bit = CyTrue;
 693:../cyfxslfifosyncmulti.c ****     io_cfg.lppMode   = CY_U3P_IO_MATRIX_LPP_DEFAULT;
 694:../cyfxslfifosyncmulti.c **** #endif
 695:../cyfxslfifosyncmulti.c ****     /* No GPIOs are enabled. */
 696:../cyfxslfifosyncmulti.c ****     io_cfg.gpioSimpleEn[0]  = 0;
 1636              		.loc 1 696 0
 1637 0ca0 0030A0E3 		mov	r3, #0
 1638 0ca4 18300BE5 		str	r3, [fp, #-24]
 697:../cyfxslfifosyncmulti.c **** //    io_cfg.gpioSimpleEn[1]  = 0x08000000; /* GPIO 59 */
 698:../cyfxslfifosyncmulti.c ****     io_cfg.gpioSimpleEn[1]  = 0;
 1639              		.loc 1 698 0
 1640 0ca8 0030A0E3 		mov	r3, #0
 1641 0cac 14300BE5 		str	r3, [fp, #-20]
 699:../cyfxslfifosyncmulti.c ****     io_cfg.gpioComplexEn[0] = 0;
 1642              		.loc 1 699 0
 1643 0cb0 0030A0E3 		mov	r3, #0
 1644 0cb4 10300BE5 		str	r3, [fp, #-16]
 700:../cyfxslfifosyncmulti.c ****     io_cfg.gpioComplexEn[1] = 0;
 1645              		.loc 1 700 0
 1646 0cb8 0030A0E3 		mov	r3, #0
 1647 0cbc 0C300BE5 		str	r3, [fp, #-12]
 701:../cyfxslfifosyncmulti.c ****     status = CyU3PDeviceConfigureIOMatrix (&io_cfg);
 1648              		.loc 1 701 0
 1649 0cc0 30304BE2 		sub	r3, fp, #48
 1650 0cc4 0300A0E1 		mov	r0, r3
 1651 0cc8 FEFFFFEB 		bl	CyU3PDeviceConfigureIOMatrix
 1652 0ccc 08000BE5 		str	r0, [fp, #-8]
 702:../cyfxslfifosyncmulti.c ****     if (status != CY_U3P_SUCCESS) goto handle_fatal_error;
 1653              		.loc 1 702 0
 1654 0cd0 08301BE5 		ldr	r3, [fp, #-8]
 1655 0cd4 000053E3 		cmp	r3, #0
 1656 0cd8 0000000A 		beq	.L87
 1657              		.loc 1 702 0 is_stmt 0 discriminator 1
 1658 0cdc 020000EA 		b	.L85
 1659              	.L87:
 703:../cyfxslfifosyncmulti.c **** 
 704:../cyfxslfifosyncmulti.c ****     /* This is a non returnable call for initializing the RTOS kernel */
 705:../cyfxslfifosyncmulti.c ****     CyU3PKernelEntry ();
 1660              		.loc 1 705 0 is_stmt 1
 1661 0ce0 FEFFFFEB 		bl	_tx_initialize_kernel_enter
 706:../cyfxslfifosyncmulti.c **** 
 707:../cyfxslfifosyncmulti.c ****     /* Dummy return to make the compiler happy */
 708:../cyfxslfifosyncmulti.c ****     return 0;
 1662              		.loc 1 708 0
 1663 0ce4 0030A0E3 		mov	r3, #0
 1664 0ce8 000000EA 		b	.L89
 1665              	.L85:
 709:../cyfxslfifosyncmulti.c **** 
 710:../cyfxslfifosyncmulti.c **** handle_fatal_error:
 711:../cyfxslfifosyncmulti.c **** 
 712:../cyfxslfifosyncmulti.c ****     /* Cannot recover from this error. */
 713:../cyfxslfifosyncmulti.c ****     while (1);
 1666              		.loc 1 713 0 discriminator 1
 1667 0cec FEFFFFEA 		b	.L85
 1668              	.L89:
 714:../cyfxslfifosyncmulti.c **** }
 1669              		.loc 1 714 0
 1670 0cf0 0300A0E1 		mov	r0, r3
 1671 0cf4 04D04BE2 		sub	sp, fp, #4
 1672              		@ sp needed
 1673 0cf8 0088BDE8 		ldmfd	sp!, {fp, pc}
 1674              	.L91:
 1675              		.align	2
 1676              	.L90:
 1677 0cfc F8030000 		.word	.LC33
 1678              		.cfi_endproc
 1679              	.LFE9:
 1681              	.Letext0:
 1682              		.file 2 "c:\\program files (x86)\\cypress\\ez-usb fx3 sdk\\1.3\\arm gcc\\arm-none-eabi\\include\\s
 1683              		.file 3 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu3
 1684              		.file 4 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyfx
 1685              		.file 5 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/tx_p
 1686              		.file 6 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/tx_a
 1687              		.file 7 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu3
 1688              		.file 8 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu3
 1689              		.file 9 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu3
 1690              		.file 10 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1691              		.file 11 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1692              		.file 12 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1693              		.file 13 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\\\firmware\\u3p_firmware\\inc/cyu
 1694              		.file 14 "../gpifmin.h"
DEFINED SYMBOLS
                            *ABS*:00000000 cyfxslfifosyncmulti.c
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:21     .data:00000000 CyFxGpifTransition
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:18     .data:00000000 $d
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:30     .data:00000008 CyFxGpifWavedata
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:53     .data:00000050 CyFxGpifWavedataPosition
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:62     .data:00000054 CyFxGpifRegValue
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:144    .rodata:00000000 CyFxGpifConfig
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:141    .rodata:00000000 $d
                            *COM*:000000a8 slFifoAppThread
                            *COM*:000000e8 glMultiChHandleSlFifoPtoU
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:162    .bss:00000000 glDMARxCount
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:159    .bss:00000000 $d
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:168    .bss:00000004 glDMATxCount
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:174    .bss:00000008 glIsApplnActive
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:179    .bss:0000000c burstLength
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:182    .text:00000000 $a
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:185    .text:00000000 CyFxSlFifoPtoUDmaCallback
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:251    .text:0000009c $d
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:281    .text:000000a4 $a
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:284    .text:000000a4 CyFxSlFifoApplnStart
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:542    .text:00000350 $d
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:562    .text:00000380 $a
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:565    .text:00000380 CyFxSlFifoApplnStop
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:654    .text:00000458 $d
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:681    .text:00000468 $a
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:684    .text:00000468 CyFxSlFifoApplnUSBSetupCB
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:930    .text:000006f0 $d
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:950    .text:00000714 $a
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:953    .text:00000714 CyFxSlFifoApplnUSBEventCB
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1031   .text:000007bc $d
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1042   .bss:00000010 count
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1073   .text:000007c8 $a
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1076   .text:000007c8 gpif_error_cb
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1123   .text:00000838 $d
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1133   .text:00000858 $a
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1213   .text:0000091c $d
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1243   .text:00000944 $a
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1246   .text:00000944 CyFxSlFifoApplnInit
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1389   .text:00000ab8 $d
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1409   .data:00000184 calls
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1416   .text:00000ae8 $a
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1419   .text:00000ae8 SlFifoAppThread_Entry
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1455   .text:00000b24 $d
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1468   .text:00000b2c $a
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1471   .text:00000b2c CyFxApplicationDefine
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1538   .text:00000bcc $d
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1550   .text:00000bdc $a
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1553   .text:00000bdc main
C:\Users\CHARLIE\AppData\Local\Temp\ccNDBKEb.s:1677   .text:00000cfc $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
CyU3PDmaMultiChannelGetBuffer
CyU3PDmaMultiChannelCommitBuffer
CyU3PUsbGetSpeed
CyU3PDebugPrint
CyFxAppErrorHandler
CyU3PMemSet
CyU3PSetEpConfig
CyU3PDmaMultiChannelCreate
CyU3PUsbFlushEp
CyU3PGpifSMStart
CyU3PGpifControlSWInput
CyU3PDmaMultiChannelSetXfer
CyU3PDmaMultiChannelDestroy
CyU3PUsbAckSetup
CyU3PUsbStall
CyU3PDmaMultiChannelReset
CyU3PUsbResetEp
_tx_thread_sleep
CyU3PConnectState
CyU3PGpifSMControl
CyU3PUsbLPMDisable
CyU3PPibInit
CyU3PGpifLoad
CyU3PGpifSocketConfigure
CyU3PUsbStart
CyU3PPibRegisterCallback
CyU3PUsbRegisterSetupCallback
CyU3PUsbRegisterEventCallback
CyU3PUsbRegisterLPMRequestCallback
setDescriptors
CyFxApplnLPMRqtCB
_txe_thread_relinquish
CyFxSlFifoApplnDebugInit
CyU3PMemAlloc
_txe_thread_create
CyU3PDeviceInit
CyU3PDeviceCacheControl
CyU3PDeviceConfigureIOMatrix
_tx_initialize_kernel_enter
